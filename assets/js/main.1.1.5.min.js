!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PropTypes=e()}(function(){return function e(t,r,n){function s(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(i)return i(o,!0);throw(l=new Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",l}l=r[o]={exports:{}},t[o][0].call(l.exports,function(e){return s(t[o][1][e]||e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){"use strict";function n(){}function s(){}var i=e(3);s.resetWarningCache=n,t.exports=function(){function e(e,t,r,n,s,o){if(o!==i)throw o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),o.name="Invariant Violation",o}function t(){return e}var r={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r}},{3:3}],2:[function(e,t,r){t.exports=e(1)()},{1:1}],3:[function(e,t,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}]},{},[2])(2)}),!function(e,t,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define(r):t[e]=r()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){return e._aborted?r(e.request):e._timedOut?r(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):r(e.request)))}}function setHeaders(e,t){var r,n=t.headers||{};n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var s="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||s||(n[contentType]=t.contentType||defaultHeaders.contentType);for(r in n)n.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n[r])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var s=uniqid++,i=e.jsonpCallback||"callback",o=e.jsonpCallbackName||reqwest.getcallbackPrefix(s),a=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),l=n.match(a),c=doc.createElement("script"),u=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return l?"?"===l[3]?n=n.replace(a,"$1="+o):o=l[3]:n=urlappend(n,i+"="+o),context[o]=generalCallback,c.type="text/javascript",c.src=n,c.async=!0,"undefined"==typeof c.onreadystatechange||f||(c.htmlFor=c.id="_reqwest_"+s),c.onload=c.onreadystatechange=function(){return!(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||u)&&(c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),t(lastValue),lastValue=void 0,head.removeChild(c),void(u=1))},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),u=1}}}function getRequest(e,t){var r,n=this.o,s=(n.method||"GET").toUpperCase(),i="string"==typeof n?n:n.url,o=n.processData!==!1&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,a=!1;return"jsonp"!=n.type&&"GET"!=s||!o||(i=urlappend(i,o),o=null),"jsonp"==n.type?handleJsonp(n,e,t,i):(r=n.xhr&&n.xhr(n)||xhr(n),r.open(s,i,n.async!==!1),setHeaders(r,n),setCredentials(r,n),context[xDomainRequest]&&r instanceof context[xDomainRequest]?(r.onload=e,r.onerror=t,r.onprogress=function(){},a=!0):r.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(r),a?setTimeout(function(){r.send(o)},200):r.send(o),r)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,r){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=r,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,r);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r,n,s,i,o=e.name,a=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(o,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&o)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(r=/checkbox/i.test(e.type),n=/radio/i.test(e.type),s=e.value,(!(r||n)||e.checked)&&t(o,normalize(r&&""===s?"on":s)));break;case"textarea":t(o,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&l(e.options[i])}}function eachFormElement(){var e,t,r=this,n=function(e,t){var n,s,i;for(n=0;n<t.length;n++)for(i=e[byTag](t[n]),s=0;s<i.length;s++)serial(i[s],r)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,r),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,r){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(r)):e[t]=r},arguments),e}function buildParams(e,t,r,n){var s,i,o,a=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)o=t[i],r||a.test(e)?n(e,o):buildParams(e+"["+("object"==typeof o?i:"")+"]",o,r,n);else if(t&&"[object Object]"===t.toString())for(s in t)buildParams(e+"["+s+"]",t[s],r,n);else n(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,r){e.push({name:t,value:r})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,r=Array.prototype.slice.call(arguments,0);return e=r.pop(),e&&e.nodeType&&r.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,r)},reqwest.toQueryString=function(e,t){var r,n,s=t||!1,i=[],o=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=o(e)+"="+o(t)};if(isArray(e))for(n=0;e&&n<e.length;n++)a(e[n].name,e[n].value);else for(r in e)e.hasOwnProperty(r)&&buildParams(r,e[r],s,a);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),function(e){"use strict";function t(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function r(e,t){return e<<t|e>>>32-t}function n(e,n,s,i,o,a){return t(r(t(t(n,e),t(i,a)),o),s)}function s(e,t,r,s,i,o,a){return n(t&r|~t&s,e,t,i,o,a)}function i(e,t,r,s,i,o,a){return n(t&s|r&~s,e,t,i,o,a)}function o(e,t,r,s,i,o,a){return n(t^r^s,e,t,i,o,a)}function a(e,t,r,s,i,o,a){return n(r^(t|~s),e,t,i,o,a)}function l(e,r){e[r>>5]|=128<<r%32,e[(r+64>>>9<<4)+14]=r;var n,l,c,u,f,h=1732584193,p=-271733879,d=-1732584194,g=271733878;for(n=0;n<e.length;n+=16)l=h,c=p,u=d,f=g,h=s(h,p,d,g,e[n],7,-680876936),g=s(g,h,p,d,e[n+1],12,-389564586),d=s(d,g,h,p,e[n+2],17,606105819),p=s(p,d,g,h,e[n+3],22,-1044525330),h=s(h,p,d,g,e[n+4],7,-176418897),g=s(g,h,p,d,e[n+5],12,1200080426),d=s(d,g,h,p,e[n+6],17,-1473231341),p=s(p,d,g,h,e[n+7],22,-45705983),h=s(h,p,d,g,e[n+8],7,1770035416),g=s(g,h,p,d,e[n+9],12,-1958414417),d=s(d,g,h,p,e[n+10],17,-42063),p=s(p,d,g,h,e[n+11],22,-1990404162),h=s(h,p,d,g,e[n+12],7,1804603682),g=s(g,h,p,d,e[n+13],12,-40341101),d=s(d,g,h,p,e[n+14],17,-1502002290),p=s(p,d,g,h,e[n+15],22,1236535329),h=i(h,p,d,g,e[n+1],5,-165796510),g=i(g,h,p,d,e[n+6],9,-1069501632),d=i(d,g,h,p,e[n+11],14,643717713),p=i(p,d,g,h,e[n],20,-373897302),h=i(h,p,d,g,e[n+5],5,-701558691),g=i(g,h,p,d,e[n+10],9,38016083),d=i(d,g,h,p,e[n+15],14,-660478335),p=i(p,d,g,h,e[n+4],20,-405537848),h=i(h,p,d,g,e[n+9],5,568446438),g=i(g,h,p,d,e[n+14],9,-1019803690),d=i(d,g,h,p,e[n+3],14,-187363961),p=i(p,d,g,h,e[n+8],20,1163531501),h=i(h,p,d,g,e[n+13],5,-1444681467),g=i(g,h,p,d,e[n+2],9,-51403784),d=i(d,g,h,p,e[n+7],14,1735328473),p=i(p,d,g,h,e[n+12],20,-1926607734),h=o(h,p,d,g,e[n+5],4,-378558),g=o(g,h,p,d,e[n+8],11,-2022574463),d=o(d,g,h,p,e[n+11],16,1839030562),p=o(p,d,g,h,e[n+14],23,-35309556),h=o(h,p,d,g,e[n+1],4,-1530992060),g=o(g,h,p,d,e[n+4],11,1272893353),d=o(d,g,h,p,e[n+7],16,-155497632),p=o(p,d,g,h,e[n+10],23,-1094730640),h=o(h,p,d,g,e[n+13],4,681279174),g=o(g,h,p,d,e[n],11,-358537222),d=o(d,g,h,p,e[n+3],16,-722521979),p=o(p,d,g,h,e[n+6],23,76029189),h=o(h,p,d,g,e[n+9],4,-640364487),g=o(g,h,p,d,e[n+12],11,-421815835),d=o(d,g,h,p,e[n+15],16,530742520),p=o(p,d,g,h,e[n+2],23,-995338651),h=a(h,p,d,g,e[n],6,-198630844),g=a(g,h,p,d,e[n+7],10,1126891415),d=a(d,g,h,p,e[n+14],15,-1416354905),p=a(p,d,g,h,e[n+5],21,-57434055),h=a(h,p,d,g,e[n+12],6,1700485571),g=a(g,h,p,d,e[n+3],10,-1894986606),d=a(d,g,h,p,e[n+10],15,-1051523),p=a(p,d,g,h,e[n+1],21,-2054922799),h=a(h,p,d,g,e[n+8],6,1873313359),g=a(g,h,p,d,e[n+15],10,-30611744),d=a(d,g,h,p,e[n+6],15,-1560198380),p=a(p,d,g,h,e[n+13],21,1309151649),h=a(h,p,d,g,e[n+4],6,-145523070),g=a(g,h,p,d,e[n+11],10,-1120210379),d=a(d,g,h,p,e[n+2],15,718787259),p=a(p,d,g,h,e[n+9],21,-343485551),h=t(h,l),p=t(p,c),d=t(d,u),g=t(g,f);return[h,p,d,g]}function c(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function u(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function f(e){return c(l(u(e),8*e.length))}function h(e,t){var r,n,s=u(e),i=[],o=[];for(i[15]=o[15]=void 0,s.length>16&&(s=l(s,8*e.length)),r=0;r<16;r+=1)i[r]=909522486^s[r],o[r]=1549556828^s[r];return n=l(i.concat(u(t)),512+8*t.length),c(l(o.concat(n),640))}function p(e){var t,r,n="0123456789abcdef",s="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),s+=n.charAt(t>>>4&15)+n.charAt(15&t);return s}function d(e){return unescape(encodeURIComponent(e))}function g(e){return f(d(e))}function m(e){return p(g(e))}function v(e,t){return h(d(e),d(t))}function b(e,t){return p(v(e,t))}function y(e,t,r){return t?r?v(t,e):b(t,e):r?g(e):m(e)}"function"==typeof define&&define.amd?define(function(){return y}):"object"==typeof module&&module.exports?module.exports=y:e.md5=y}(this),!function(e,t,r){"undefined"!=typeof module?module.exports=r(e,t):"function"==typeof define&&"object"==typeof define.amd?define(r):t[e]=r(e,t)}("humane",this,function(e,t){var r=window,n=document,s={on:function(e,t,n){"addEventListener"in r?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},off:function(e,t,n){"removeEventListener"in r?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},bind:function(e,t){return function(){e.apply(t,arguments)}},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},config:function(e,t){return null!=e?e:t},transSupport:!1,useFilter:/msie [678]/i.test(navigator.userAgent),_checkTransition:function(){var e=n.createElement("div"),t={webkit:"webkit",Moz:"",O:"o",ms:"MS"};for(var r in t)r+"Transition"in e.style&&(this.vendorPrefix=t[r],this.transSupport=!0)}};s._checkTransition();var i=function(e){e||(e={}),this.queue=[],this.baseCls=e.baseCls||"humane",this.addnCls=e.addnCls||"",this.timeout="timeout"in e?e.timeout:2500,this.waitForMove=e.waitForMove||!1,this.clickToClose=e.clickToClose||!1,this.timeoutAfterMove=e.timeoutAfterMove||!1,this.container=e.container;try{this._setupEl()}catch(t){s.on(r,"load",s.bind(this._setupEl,this))}};return i.prototype={constructor:i,_setupEl:function(){var e=n.createElement("div");if(e.style.display="none",!this.container){if(!n.body)throw"document.body is null";this.container=n.body}this.container.appendChild(e),this.el=e,this.removeEvent=s.bind(function(){var e=s.config(this.currentMsg.timeoutAfterMove,this.timeoutAfterMove);e?setTimeout(s.bind(this.remove,this),e):this.remove()},this),this.transEvent=s.bind(this._afterAnimation,this),this._run()},_afterTimeout:function(){s.config(this.currentMsg.waitForMove,this.waitForMove)?this.removeEventsSet||(s.on(n.body,"mousemove",this.removeEvent),s.on(n.body,"click",this.removeEvent),s.on(n.body,"keypress",this.removeEvent),s.on(n.body,"touchstart",this.removeEvent),this.removeEventsSet=!0):this.remove()},_run:function(){if(!this._animating&&this.queue.length&&this.el){this._animating=!0,this.currentTimer&&(clearTimeout(this.currentTimer),this.currentTimer=null);var e=this.queue.shift(),t=s.config(e.clickToClose,this.clickToClose);t&&(s.on(this.el,"click",this.removeEvent),s.on(this.el,"touchstart",this.removeEvent));var r=s.config(e.timeout,this.timeout);r>0&&(this.currentTimer=setTimeout(s.bind(this._afterTimeout,this),r)),s.isArray(e.html)&&(e.html="<ul><li>"+e.html.join("<li>")+"</ul>"),this.el.innerHTML=e.html,this.currentMsg=e,this.el.className=this.baseCls,s.transSupport?(this.el.style.display="block",setTimeout(s.bind(this._showMsg,this),50)):this._showMsg()}},_setOpacity:function(e){if(s.useFilter)try{this.el.filters.item("DXImageTransform.Microsoft.Alpha").Opacity=100*e}catch(t){}else this.el.style.opacity=String(e)},_showMsg:function(){var e=s.config(this.currentMsg.addnCls,this.addnCls);if(s.transSupport)this.el.className=this.baseCls+" "+e+" "+this.baseCls+"-animate";else{var t=0;this.el.className=this.baseCls+" "+e+" "+this.baseCls+"-js-animate",this._setOpacity(0),this.el.style.display="block";var r=this,n=setInterval(function(){t<1?(t+=.1,t>1&&(t=1),r._setOpacity(t)):clearInterval(n)},30)}},_hideMsg:function(){var e=s.config(this.currentMsg.addnCls,this.addnCls);if(s.transSupport)this.el.className=this.baseCls+" "+e,s.on(this.el,s.vendorPrefix?s.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent);else var t=1,r=this,n=setInterval(function(){t>0?(t-=.1,t<0&&(t=0),r._setOpacity(t)):(r.el.className=r.baseCls+" "+e,clearInterval(n),r._afterAnimation())},30)},_afterAnimation:function(){s.transSupport&&s.off(this.el,s.vendorPrefix?s.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent),this.currentMsg.cb&&this.currentMsg.cb(),this.el.style.display="none",this._animating=!1,this._run()},remove:function(e){var t="function"==typeof e?e:null;s.off(n.body,"mousemove",this.removeEvent),s.off(n.body,"click",this.removeEvent),s.off(n.body,"keypress",this.removeEvent),s.off(n.body,"touchstart",this.removeEvent),s.off(this.el,"click",this.removeEvent),s.off(this.el,"touchstart",this.removeEvent),this.removeEventsSet=!1,t&&this.currentMsg&&(this.currentMsg.cb=t),this._animating?this._hideMsg():t&&t()},log:function(e,t,r,n){var s={};if(n)for(var i in n)s[i]=n[i];if("function"==typeof t)r=t;else if(t)for(var i in t)s[i]=t[i];return s.html=e,r&&(s.cb=r),this.queue.push(s),this._run(),this},spawn:function(e){var t=this;return function(r,n,s){return t.log.call(t,r,n,s,e),t}},create:function(e){return new i(e)}},new i}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";function r(t,r,n,s){for(var i=[],o=0;o<t.length;o++){var a=t[o];if(a){var l=tinycolor(a),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(r,a)?" sp-thumb-active":"";var u=l.toString(s.preferredFormat||"rgb"),f=m?"background-color:"+l.toRgbString():"filter:"+l.toFilter();i.push('<span title="'+u+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+f+';"></span></span>')}else{var h="sp-clear-display";i.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+h+'"></span>').attr("title",s.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+i.join("")+"</div>"}function n(){for(var e=0;e<d.length;e++)d[e]&&d[e].hide()}function s(t,r){var n=e.extend({},p,t);return n.callbacks={move:c(n.move,r),change:c(n.change,r),show:c(n.show,r),hide:c(n.hide,r),beforeShow:c(n.beforeShow,r)},n}function i(i,a){function c(){if(U.showPaletteOnly&&(U.showPalette=!0),De.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),U.palette){pe=U.palette.slice(0),de=e.isArray(pe[0])?pe:[pe],ge={};for(var t=0;t<de.length;t++)for(var r=0;r<de[t].length;r++){var n=tinycolor(de[t][r]).toRgbString();ge[n]=!0}}ke.toggleClass("sp-flat",$),ke.toggleClass("sp-input-disabled",!U.showInput),ke.toggleClass("sp-alpha-enabled",U.showAlpha),ke.toggleClass("sp-clear-enabled",Ke),ke.toggleClass("sp-buttons-disabled",!U.showButtons),ke.toggleClass("sp-palette-buttons-disabled",!U.togglePaletteOnly),ke.toggleClass("sp-palette-disabled",!U.showPalette),ke.toggleClass("sp-palette-only",U.showPaletteOnly),ke.toggleClass("sp-initial-disabled",!U.showInitial),ke.addClass(U.className).addClass(U.containerClassName),L()}function p(){function t(t){return t.data&&t.data.ignore?(E(e(t.target).closest(".sp-thumb-el").data("color")),F()):(E(e(t.target).closest(".sp-thumb-el").data("color")),F(),U.hideAfterPaletteSelect?(I(!0),P()):I()),!1}if(g&&ke.find("*:not(input)").attr("unselectable","on"),c(),ze&&_e.after(Xe).hide(),Ke||Fe.hide(),$)_e.after(ke).hide();else{var r="parent"===U.appendTo?_e.parent():e(U.appendTo);1!==r.length&&(r=e("body")),r.append(ke)}y(),We.on("click.spectrum touchstart.spectrum",function(t){xe||T(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(_e.is(":disabled")||U.disabled===!0)&&B(),ke.click(l),Me.change(A),Me.on("paste",function(){setTimeout(A,1)}),Me.keydown(function(e){13==e.keyCode&&A()}),je.text(U.cancelText),je.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),M(),P()}),Fe.attr("title",U.clearText),Fe.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Je=!0,F(),$&&I(!0)}),Ne.text(U.chooseText),Ne.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),g&&Me.is(":focus")&&Me.trigger("change"),j()&&(I(!0),P())}),De.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),De.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),U.showPaletteOnly=!U.showPaletteOnly,U.showPaletteOnly||$||ke.css("left","-="+(Ce.outerWidth(!0)+5)),c()}),u(He,function(e,t,r){he=e/oe,Je=!1,r.shiftKey&&(he=Math.round(10*he)/10),F()},C,S),u(Te,function(e,t){ce=parseFloat(t/se),Je=!1,U.showAlpha||(he=1),F()},C,S),u(Se,function(e,t,r){if(r.shiftKey){if(!ye){var n=ue*te,s=re-fe*re,i=Math.abs(e-n)>Math.abs(t-s);ye=i?"x":"y"}}else ye=null;var o=!ye||"x"===ye,a=!ye||"y"===ye;o&&(ue=parseFloat(e/te)),a&&(fe=parseFloat((re-t)/re)),Je=!1,U.showAlpha||(he=1),F()},C,S),Ve?(E(Ve),N(),$e=U.preferredFormat||tinycolor(Ve).format,w(Ve)):N(),$&&q();var n=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ee.on(n,".sp-thumb-el",t),Oe.on(n,".sp-thumb-el:nth-child(1)",{ignore:!0},t)}function y(){if(J&&window.localStorage){try{var t=window.localStorage[J].split(",#");t.length>1&&(delete window.localStorage[J],e.each(t,function(e,t){w(t)}))}catch(r){}try{me=window.localStorage[J].split(";")}catch(r){}}}function w(t){if(Q){var r=tinycolor(t).toRgbString();if(!ge[r]&&e.inArray(r,me)===-1)for(me.push(r);me.length>ve;)me.shift();if(J&&window.localStorage)try{window.localStorage[J]=me.join(";")}catch(n){}}}function _(){var e=[];if(U.showPalette)for(var t=0;t<me.length;t++){var r=tinycolor(me[t]).toRgbString();ge[r]||e.push(me[t])}return e.reverse().slice(0,U.maxSelectionSize)}function x(){var t=O(),n=e.map(de,function(e,n){return r(e,t,"sp-palette-row sp-palette-row-"+n,U)});y(),me&&n.push(r(_(),t,"sp-palette-row sp-palette-row-selection",U)),Ee.html(n.join(""))}function k(){if(U.showInitial){var e=Ue,t=O();Oe.html(r([e,t],t,"sp-palette-row-initial",U))}}function C(){(re<=0||te<=0||se<=0)&&L(),ee=!0,ke.addClass(be),ye=null,_e.trigger("dragstart.spectrum",[O()])}function S(){ee=!1,ke.removeClass(be),_e.trigger("dragstop.spectrum",[O()])}function A(){var e=Me.val();if(null!==e&&""!==e||!Ke){var t=tinycolor(e);t.isValid()?(E(t),F(),I()):Me.addClass("sp-validation-error")}else E(null),F(),I()}function T(){Z?P():q()}function q(){var t=e.Event("beforeShow.spectrum");return Z?void L():(_e.trigger(t,[O()]),void(G.beforeShow(O())===!1||t.isDefaultPrevented()||(n(),Z=!0,e(we).on("keydown.spectrum",R),e(we).on("click.spectrum",H),e(window).on("resize.spectrum",Y),Xe.addClass("sp-active"),ke.removeClass("sp-hidden"),L(),N(),Ue=O(),k(),G.show(Ue),_e.trigger("show.spectrum",[Ue]))))}function R(e){27===e.keyCode&&P()}function H(e){2!=e.button&&(ee||(Qe?I(!0):M(),P()))}function P(){Z&&!$&&(Z=!1,e(we).off("keydown.spectrum",R),e(we).off("click.spectrum",H),e(window).off("resize.spectrum",Y),Xe.removeClass("sp-active"),ke.addClass("sp-hidden"),G.hide(O()),_e.trigger("hide.spectrum",[O()]))}function M(){E(Ue,!0),I(!0)}function E(e,t){if(tinycolor.equals(e,O()))return void N();var r,n;!e&&Ke?Je=!0:(Je=!1,r=tinycolor(e),n=r.toHsv(),ce=n.h%360/360,ue=n.s,fe=n.v,he=n.a),N(),r&&r.isValid()&&!t&&($e=U.preferredFormat||r.getFormat())}function O(e){return e=e||{},Ke&&Je?null:tinycolor.fromRatio({h:ce,s:ue,v:fe,a:Math.round(1e3*he)/1e3},{format:e.format||$e})}function j(){return!Me.hasClass("sp-validation-error")}function F(){N(),G.move(O()),_e.trigger("move.spectrum",[O()])}function N(){Me.removeClass("sp-validation-error"),D();var e=tinycolor.fromRatio({h:ce,s:1,v:1});Se.css("background-color",e.toHexString());var t=$e;he<1&&(0!==he||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var r=O({format:t}),n="";if(Be.removeClass("sp-clear-display"),Be.css("background-color","transparent"),!r&&Ke)Be.addClass("sp-clear-display");else{var s=r.toHexString(),i=r.toRgbString();if(m||1===r.alpha?Be.css("background-color",i):(Be.css("background-color","transparent"),Be.css("filter",r.toFilter())),U.showAlpha){var o=r.toRgb();o.a=0;var a=tinycolor(o).toRgbString(),l="linear-gradient(left, "+a+", "+s+")";g?Re.css("filter",tinycolor(a).toFilter({gradientType:1},s)):(Re.css("background","-webkit-"+l),Re.css("background","-moz-"+l),Re.css("background","-ms-"+l),Re.css("background","linear-gradient(to right, "+a+", "+s+")"))}n=r.toString(t)}U.showInput&&Me.val(n),U.showPalette&&x(),k()}function D(){var e=ue,t=fe;if(Ke&&Je)Pe.hide(),qe.hide(),Ae.hide();else{Pe.show(),qe.show(),Ae.show();var r=e*te,n=re-t*re;r=Math.max(-ne,Math.min(te-ne,r-ne)),n=Math.max(-ne,Math.min(re-ne,n-ne)),Ae.css({top:n+"px",left:r+"px"});var s=he*oe;Pe.css({left:s-ae/2+"px"});var i=ce*se;qe.css({top:i-le+"px"})}}function I(e){var t=O(),r="",n=!tinycolor.equals(t,Ue);t&&(r=t.toString($e),w(t)),Ie&&_e.val(r),e&&n&&(G.change(t),_e.trigger("change",[t]))}function L(){Z&&(te=Se.width(),re=Se.height(),ne=Ae.height(),ie=Te.width(),se=Te.height(),le=qe.height(),oe=He.width(),ae=Pe.width(),$||(ke.css("position","absolute"),U.offset?ke.offset(U.offset):ke.offset(o(ke,We))),D(),U.showPalette&&x(),_e.trigger("reflow.spectrum"))}function z(){_e.show(),We.off("click.spectrum touchstart.spectrum"),ke.remove(),Xe.remove(),d[Ge.id]=null}function X(r,n){return r===t?e.extend({},U):n===t?U[r]:(U[r]=n,"preferredFormat"===r&&($e=U.preferredFormat),void c())}function W(){xe=!1,_e.attr("disabled",!1),We.removeClass("sp-disabled")}function B(){P(),xe=!0,_e.attr("disabled",!0),We.addClass("sp-disabled")}function V(e){U.offset=e,L()}var U=s(a,i),$=U.flat,Q=U.showSelectionPalette,J=U.localStorageKey,K=U.theme,G=U.callbacks,Y=f(L,10),Z=!1,ee=!1,te=0,re=0,ne=0,se=0,ie=0,oe=0,ae=0,le=0,ce=0,ue=0,fe=0,he=1,pe=[],de=[],ge={},me=U.selectionPalette.slice(0),ve=U.maxSelectionSize,be="sp-dragging",ye=null,we=i.ownerDocument,_e=(we.body,e(i)),xe=!1,ke=e(b,we).addClass(K),Ce=ke.find(".sp-picker-container"),Se=ke.find(".sp-color"),Ae=ke.find(".sp-dragger"),Te=ke.find(".sp-hue"),qe=ke.find(".sp-slider"),Re=ke.find(".sp-alpha-inner"),He=ke.find(".sp-alpha"),Pe=ke.find(".sp-alpha-handle"),Me=ke.find(".sp-input"),Ee=ke.find(".sp-palette"),Oe=ke.find(".sp-initial"),je=ke.find(".sp-cancel"),Fe=ke.find(".sp-clear"),Ne=ke.find(".sp-choose"),De=ke.find(".sp-palette-toggle"),Ie=_e.is("input"),Le=Ie&&"color"===_e.attr("type")&&h(),ze=Ie&&!$,Xe=ze?e(v).addClass(K).addClass(U.className).addClass(U.replacerClassName):e([]),We=ze?Xe:_e,Be=Xe.find(".sp-preview-inner"),Ve=U.color||Ie&&_e.val(),Ue=!1,$e=U.preferredFormat,Qe=!U.showButtons||U.clickoutFiresChange,Je=!Ve,Ke=U.allowEmpty&&!Le;p();var Ge={show:q,hide:P,toggle:T,reflow:L,option:X,enable:W,disable:B,offset:V,set:function(e){E(e),I()},get:O,destroy:z,container:ke};return Ge.id=d.push(Ge)-1,Ge}function o(t,r){var n=0,s=t.outerWidth(),i=t.outerHeight(),o=r.outerHeight(),a=t[0].ownerDocument,l=a.documentElement,c=l.clientWidth+e(a).scrollLeft(),u=l.clientHeight+e(a).scrollTop(),f=r.offset(),h=f.left,p=f.top;return p+=o,h-=Math.min(h,h+s>c&&c>s?Math.abs(h+s-c):0),p-=Math.min(p,p+i>u&&u>i?Math.abs(i+o-n):n),{top:p,bottom:f.bottom,left:h,right:f.right,width:f.width,height:f.height}}function a(){}function l(e){e.stopPropagation()}function c(e,t){var r=Array.prototype.slice,n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}function u(t,r,n,s){function i(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function o(e){if(u){if(g&&c.documentMode<9&&!e.button)return l();var n=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],s=n&&n.pageX||e.pageX,o=n&&n.pageY||e.pageY,a=Math.max(0,Math.min(s-f.left,p)),m=Math.max(0,Math.min(o-f.top,h));d&&i(e),r.apply(t,[a,m,e])}}function a(r){var s=r.which?3==r.which:2==r.button;s||u||n.apply(t,arguments)!==!1&&(u=!0,h=e(t).height(),p=e(t).width(),f=e(t).offset(),e(c).on(m),e(c.body).addClass("sp-dragging"),o(r),i(r))}function l(){u&&(e(c).off(m),e(c.body).removeClass("sp-dragging"),setTimeout(function(){s.apply(t,arguments)},0)),u=!1}r=r||function(){},n=n||function(){},s=s||function(){};var c=document,u=!1,f={},h=0,p=0,d="ontouchstart"in window,m={};m.selectstart=i,m.dragstart=i,m["touchmove mousemove"]=o,m["touchend mouseup"]=l,e(t).on("touchstart mousedown",a)}function f(e,t,r){var n;return function(){var s=this,i=arguments,o=function(){n=null,e.apply(s,i)};r&&clearTimeout(n),!r&&n||(n=setTimeout(o,t))}}function h(){return e.fn.spectrum.inputTypeColorSupport()}var p={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},d=[],g=!!/msie/i.exec(window.navigator.userAgent),m=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),r=t.style;return r.cssText="background-color:rgba(0,0,0,.5)",e(r.backgroundColor,"rgba")||e(r.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var e="";if(g)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";
return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";e.fn.spectrum=function(t,r){if("string"==typeof t){var n=this,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=d[e(this).data(y)];if(r){var i=r[t];if(!i)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?n=r.get():"container"==t?n=r.container:"option"==t?n=r.option.apply(r,s):"destroy"==t?(r.destroy(),e(this).removeData(y)):i.apply(r,s)}}),n}return this.spectrum("destroy").each(function(){var r=e.extend({},e(this).data(),t),n=i(this,r);e(this).data(y,n.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=u,e.fn.spectrum.defaults=p,e.fn.spectrum.inputTypeColorSupport=function w(){if("undefined"==typeof w._cachedResult){var t=e("<input type='color'/>")[0];w._cachedResult="color"===t.type&&""!==t.value}return w._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!h()&&t.spectrum({preferredFormat:"hex6"})},function(){function e(e){var r={r:0,g:0,b:0},s=1,o=!1,a=!1;return"string"==typeof e&&(e=M(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(r=t(e.r,e.g,e.b),o=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=R(e.s),e.v=R(e.v),r=i(e.h,e.s,e.v),o=!0,a="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=R(e.s),e.l=R(e.l),r=n(e.h,e.s,e.l),o=!0,a="hsl"),e.hasOwnProperty("a")&&(s=e.a)),s=x(s),{ok:o,format:e.format||a,r:D(255,I(r.r,0)),g:D(255,I(r.g,0)),b:D(255,I(r.b,0)),a:s}}function t(e,t,r){return{r:255*k(e,255),g:255*k(t,255),b:255*k(r,255)}}function r(e,t,r){e=k(e,255),t=k(t,255),r=k(r,255);var n,s,i=I(e,t,r),o=D(e,t,r),a=(i+o)/2;if(i==o)n=s=0;else{var l=i-o;switch(s=a>.5?l/(2-i-o):l/(i+o),i){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:s,l:a}}function n(e,t,r){function n(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var s,i,o;if(e=k(e,360),t=k(t,100),r=k(r,100),0===t)s=i=o=r;else{var a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=n(l,a,e+1/3),i=n(l,a,e),o=n(l,a,e-1/3)}return{r:255*s,g:255*i,b:255*o}}function s(e,t,r){e=k(e,255),t=k(t,255),r=k(r,255);var n,s,i=I(e,t,r),o=D(e,t,r),a=i,l=i-o;if(s=0===i?0:l/i,i==o)n=0;else{switch(i){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:s,v:a}}function i(e,t,r){e=6*k(e,360),t=k(t,100),r=k(r,100);var n=F.floor(e),s=e-n,i=r*(1-t),o=r*(1-s*t),a=r*(1-(1-s)*t),l=n%6,c=[r,o,i,i,a,r][l],u=[a,r,r,o,i,i][l],f=[i,i,a,r,r,o][l];return{r:255*c,g:255*u,b:255*f}}function o(e,t,r,n){var s=[q(N(e).toString(16)),q(N(t).toString(16)),q(N(r).toString(16))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function a(e,t,r,n){var s=[q(H(n)),q(N(e).toString(16)),q(N(t).toString(16)),q(N(r).toString(16))];return s.join("")}function l(e,t){t=0===t?0:t||10;var r=z(e).toHsl();return r.s-=t/100,r.s=C(r.s),z(r)}function c(e,t){t=0===t?0:t||10;var r=z(e).toHsl();return r.s+=t/100,r.s=C(r.s),z(r)}function u(e){return z(e).desaturate(100)}function f(e,t){t=0===t?0:t||10;var r=z(e).toHsl();return r.l+=t/100,r.l=C(r.l),z(r)}function h(e,t){t=0===t?0:t||10;var r=z(e).toRgb();return r.r=I(0,D(255,r.r-N(255*-(t/100)))),r.g=I(0,D(255,r.g-N(255*-(t/100)))),r.b=I(0,D(255,r.b-N(255*-(t/100)))),z(r)}function p(e,t){t=0===t?0:t||10;var r=z(e).toHsl();return r.l-=t/100,r.l=C(r.l),z(r)}function d(e,t){var r=z(e).toHsl(),n=(N(r.h)+t)%360;return r.h=n<0?360+n:n,z(r)}function g(e){var t=z(e).toHsl();return t.h=(t.h+180)%360,z(t)}function m(e){var t=z(e).toHsl(),r=t.h;return[z(e),z({h:(r+120)%360,s:t.s,l:t.l}),z({h:(r+240)%360,s:t.s,l:t.l})]}function v(e){var t=z(e).toHsl(),r=t.h;return[z(e),z({h:(r+90)%360,s:t.s,l:t.l}),z({h:(r+180)%360,s:t.s,l:t.l}),z({h:(r+270)%360,s:t.s,l:t.l})]}function b(e){var t=z(e).toHsl(),r=t.h;return[z(e),z({h:(r+72)%360,s:t.s,l:t.l}),z({h:(r+216)%360,s:t.s,l:t.l})]}function y(e,t,r){t=t||6,r=r||30;var n=z(e).toHsl(),s=360/r,i=[z(e)];for(n.h=(n.h-(s*t>>1)+720)%360;--t;)n.h=(n.h+s)%360,i.push(z(n));return i}function w(e,t){t=t||6;for(var r=z(e).toHsv(),n=r.h,s=r.s,i=r.v,o=[],a=1/t;t--;)o.push(z({h:n,s:s,v:i})),i=(i+a)%1;return o}function _(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function x(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function k(e,t){A(e)&&(e="100%");var r=T(e);return e=D(t,I(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),F.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return D(1,I(0,e))}function S(e){return parseInt(e,16)}function A(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function T(e){return"string"==typeof e&&e.indexOf("%")!=-1}function q(e){return 1==e.length?"0"+e:""+e}function R(e){return e<=1&&(e=100*e+"%"),e}function H(e){return Math.round(255*parseFloat(e)).toString(16)}function P(e){return S(e)/255}function M(e){e=e.replace(E,"").replace(O,"").toLowerCase();var t=!1;if(X[e])e=X[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=B.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=B.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=B.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=B.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=B.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=B.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=B.hex8.exec(e))?{a:P(r[1]),r:S(r[2]),g:S(r[3]),b:S(r[4]),format:t?"name":"hex8"}:(r=B.hex6.exec(e))?{r:S(r[1]),g:S(r[2]),b:S(r[3]),format:t?"name":"hex"}:!!(r=B.hex3.exec(e))&&{r:S(r[1]+""+r[1]),g:S(r[2]+""+r[2]),b:S(r[3]+""+r[3]),format:t?"name":"hex"}}var E=/^[\s,#]+/,O=/\s+$/,j=0,F=Math,N=F.round,D=F.min,I=F.max,L=F.random,z=function(t,r){if(t=t?t:"",r=r||{},t instanceof z)return t;if(!(this instanceof z))return new z(t,r);var n=e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=N(1e3*this._a)/1e3,this._format=r.format||n.format,this._gradientType=r.gradientType,this._r<1&&(this._r=N(this._r)),this._g<1&&(this._g=N(this._g)),this._b<1&&(this._b=N(this._b)),this._ok=n.ok,this._tc_id=j++};z.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=x(e),this._roundA=N(1e3*this._a)/1e3,this},toHsv:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=s(this._r,this._g,this._b),t=N(360*e.h),r=N(100*e.s),n=N(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=N(360*e.h),n=N(100*e.s),s=N(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+s+"%)":"hsla("+t+", "+n+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return o(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:N(this._r),g:N(this._g),b:N(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+N(this._r)+", "+N(this._g)+", "+N(this._b)+")":"rgba("+N(this._r)+", "+N(this._g)+", "+N(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:N(100*k(this._r,255))+"%",g:N(100*k(this._g,255))+"%",b:N(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+N(100*k(this._r,255))+"%, "+N(100*k(this._g,255))+"%, "+N(100*k(this._b,255))+"%)":"rgba("+N(100*k(this._r,255))+"%, "+N(100*k(this._g,255))+"%, "+N(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+a(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var s=z(e);r=s.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,s=!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return s?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(f,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(d,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(m,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},z.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&("a"===n?r[n]=e[n]:r[n]=R(e[n]));e=r}return z(e,t)},z.equals=function(e,t){return!(!e||!t)&&z(e).toRgbString()==z(t).toRgbString()},z.random=function(){return z.fromRatio({r:L(),g:L(),b:L()})},z.mix=function(e,t,r){r=0===r?0:r||50;var n,s=z(e).toRgb(),i=z(t).toRgb(),o=r/100,a=2*o-1,l=i.a-s.a;n=a*l==-1?a:(a+l)/(1+a*l),n=(n+1)/2;var c=1-n,u={r:i.r*n+s.r*c,g:i.g*n+s.g*c,b:i.b*n+s.b*c,a:i.a*o+s.a*(1-o)};return z(u)},z.readability=function(e,t){var r=z(e),n=z(t),s=r.toRgb(),i=n.toRgb(),o=r.getBrightness(),a=n.getBrightness(),l=Math.max(s.r,i.r)-Math.min(s.r,i.r)+Math.max(s.g,i.g)-Math.min(s.g,i.g)+Math.max(s.b,i.b)-Math.min(s.b,i.b);return{brightness:Math.abs(o-a),color:l}},z.isReadable=function(e,t){var r=z.readability(e,t);return r.brightness>125&&r.color>500},z.mostReadable=function(e,t){for(var r=null,n=0,s=!1,i=0;i<t.length;i++){var o=z.readability(e,t[i]),a=o.brightness>125&&o.color>500,l=3*(o.brightness/125)+o.color/500;(a&&!s||a&&s&&l>n||!a&&!s&&l>n)&&(s=a,n=l,r=z(t[i]))}return r};var X=z.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=z.hexNames=_(X),B=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+s),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=z}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})});
"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _callSuper(e,t,a){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,a||[],_getPrototypeOf(e).constructor):t.apply(e,a))}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var kwlm={},KwlmApp=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a.ready=!1,a.updateCheckerTimeout=null,a.currentTimeoutInterval=15e3,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a.checkLatest=a.checkLatest.bind(a),a.refreshViewer=a.refreshViewer.bind(a),a.downloadFile=a.downloadFile.bind(a),a.searchEntries=a.searchEntries.bind(a),a.filterEntriesByErrorType=a.filterEntriesByErrorType.bind(a),a.setDebugStatus=a.setDebugStatus.bind(a),a.clearLog=a.clearLog.bind(a),a.sortNewest=a.sortNewest.bind(a),a.sortOldest=a.sortOldest.bind(a),a.showGroupView=a.showGroupView.bind(a),a.showListView=a.showListView.bind(a),a.getEntries=a.getEntries.bind(a),a.getLastModified=a.getLastModified.bind(a),a.getFilesize=a.getFilesize.bind(a),a.openSettings=a.openSettings.bind(a),a.saveSettings=a.saveSettings.bind(a),a.closeSettings=a.closeSettings.bind(a),a.openHelp=a.openHelp.bind(a),a.closeHelp=a.closeHelp.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{debugging:{enabled:!1,detected:!1,simulating:!1},errorTypes:[],log:{entries:[],filesize:0,found:!1,modified:"",sort:this.props.settings.sort,timezone:"",view:this.props.settings.view,customErrors:this.props.settings.custom_errors},ui:{foldSidebar:1===parseInt(this.props.settings.fold_sidebar)},query:"",showSettings:!1,showHelp:!1,helpSection:"",log_limit:this.props.settings.log_limit}}},{key:"_getDefaultProps",value:function(){return{debugging:!1,pluginUrl:"",settings:{view:"group",sort:"newest",custom_errors:{},fold_sidebar:1},user:""}}},{key:"componentDidMount",value:function(){this.getAllEntries()}},{key:"componentWillUnmount",value:function(){this._stopUpdateChecker()}},{key:"checkLatest",value:function(){this._getLatestEntries(!1,!1)}},{key:"refreshViewer",value:function(){this._getLatestEntries(!0,!1)}},{key:"downloadFile",value:function(){window.location.href="/debugging/download/log"}},{key:"searchEntries",value:function(e){this.setState({query:e}),kwlm.remote.updateUserSetting("query",e)}},{key:"filterEntriesByErrorType",value:function(e){this.setState({errorTypes:e}),kwlm.remote.updateUserSetting("legends",e)}},{key:"setDebugStatus",value:function(e){kwlm.remote.toggleDebugging(e?1:0,function(e){var t=this.state.debugging;e.changed!==!0&&"true"!==e.changed||(t.enabled=e.status,this.setState({debugging:t}),this._broadcastChangeEvent(),kwlm.notify.alert(KWLOGMANAGER.lang_settings.notify.debugStatus+" <strong>"+(e.status?KWLOGMANAGER.lang_settings.enabled:KWLOGMANAGER.lang_settings.disabled)+"</strong>"))}.bind(this))}},{key:"setSidebarFolded",value:function(e){var t=document.querySelectorAll("body")[0];e?t.className+=" folded":t.className=t.className.replace(" folded",""),kwlm.remote.updateUserSetting("fold_sidebar",e?1:0),this.setState({ui:{foldSidebar:e}}),this._broadcastChangeEvent()}},{key:"setLogLimit",value:function(e){var t=parseInt(e);Number.isInteger(t)?this.state.log_limit!==t&&(this._stopUpdateChecker(),kwlm.remote.updateUserSetting("log_limit",t,function(e){e.updated&&(this.setState({log_limit:t}),this.getAllEntries(),kwlm.notify.success(KWLOGMANAGER.lang_settings.notify.logLimitUpd))}.bind(this))):kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.logLimitErr)}},{key:"clearLog",value:function(){kwlm.remote.clearEntries(function(e){if(e.cleared===!0){var t=this.state.log;t.entries=[],t.filesize=0,this.setState({log:t}),kwlm.notify.success(KWLOGMANAGER.lang_settings.notify.logCleared),this._broadcastChangeEvent()}else kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.logClearedFail)}.bind(this),function(e){kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.logClearedFail)})}},{key:"sortNewest",value:function(){var e=this.state.log;"oldest"===e.sort&&(e.sort="newest",e.entries=e.entries.reverse(),this.setState({log:e}),kwlm.remote.updateUserSetting("sort","newest"))}},{key:"sortOldest",value:function(){var e=this.state.log;"newest"===e.sort&&(e.sort="oldest",e.entries=e.entries.reverse(),this.setState({log:e}),kwlm.remote.updateUserSetting("sort","oldest"))}},{key:"showGroupView",value:function(){var e=this.state.log;e.view="group",this.setState({log:e}),kwlm.remote.updateUserSetting("view","group"),this._broadcastChangeEvent()}},{key:"showListView",value:function(){var e=this.state.log;e.view="list",this.setState({log:e}),kwlm.remote.updateUserSetting("view","list"),this._broadcastChangeEvent()}},{key:"getAllEntries",value:function(){kwlm.remote.getAllEntries({},function(e){this.ready=!0;var t=this.state.debugging,a=this.state.log;t.enabled=this.props.debugging,t.simulating=this._isSimulationEnabled(),t.detected=e.debugDetected,a.entries=this._prepareEntries(e.entries),a.found=e.found,a.modified=e.modified,a.filesize=e.filesize,a.timezone=e.timezone,this.state.debugging=t,this.state.log=a,this.setState({debugging:t,log:a}),this._broadcastChangeEvent(),this.state.debugging.enabled&&(e.found||this.state.debugging.simulating)&&this._startUpdateChecker()}.bind(this),function(e){kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.notLoaded)})}},{key:"getEntries",value:function(){return this.state.log.entries}},{key:"getLastModified",value:function(){return this.state.log.modified}},{key:"getFilesize",value:function(){return this.state.log.filesize}},{key:"openSettings",value:function(e){e.preventDefault(),this.setState({showSettings:!0})}},{key:"saveSettings",value:function(e){e.preventDefault(),kwlm.remote.updateUserSettings({fold_sidebar:ReactDOM.findDOMNode(this.refs.foldSidebar).value}),this.setState({showSettings:!1})}},{key:"closeSettings",value:function(e){e.preventDefault(),this.setState({showSettings:!1})}},{key:"openHelp",value:function(e){return function(t){t.preventDefault(),this.setState({showHelp:!0,helpSection:e})}.bind(this)}},{key:"closeHelp",value:function(e){e.preventDefault(),this.setState({showHelp:!1,helpSection:""})}},{key:"startSimulation",value:function(){document.cookie="_kwlm-sim=1",document.cookie="_kwlm-dbg=1";var e=this.state.debugging;e.enabled=!0,e.simulating=!0,this.setState({debugging:e}),this._startUpdateChecker(),this._broadcastChangeEvent()}},{key:"stopSimulation",value:function(){document.cookie="_kwlm-sim=0",document.cookie="_kwlm-dbg=0";var e=this.state.debugging;e.enabled=!1,e.simulating=!1,this.setState({debugging:e}),this._stopUpdateChecker(),this._broadcastChangeEvent()}},{key:"isSimulating",value:function(){return this.state.debugging.simulating}},{key:"_prepareEntries",value:function(e){e&&e instanceof Array||(e=[]);var t=this.state.log.customErrors;return e=e.map(function(e){e.key=md5(e.message.replace("\n",""));var a=e.message.replace(/.* on line ([\d]+).*/gi,"$1");e.line=a&&a!==e.message?a.trim():"";var n=e.message.replace(/^(PHP [\w ]+):.*/gi,"$1");e.errorType=n&&n!==e.message?n.trim():"",""===e.errorType&&(n=null!==e.message.match(/^#[\w_-]+:/gi)?e.message.replace(/^#([\w_-]+):.*/gi,"$1"):e.message.replace(/^(Wordpress database error ).*/gi,"$1"),e.errorType=n&&n!==e.message?n.trim():KWLOGMANAGER.lang_settings.othersErrors),e.errorTypeKey=e.errorType.replace(/[ ]+/gi,"-").toLowerCase();var s=e.message.replace(/.*in (\/[\w\/._-]+.php).*/gi,"$1");return s&&s!==e.message||(s=e.message.replace(/.*in ([a-zA-Z]:[\\\|\/].*[\w\/._-]+php).*/gi,"$1"),s&&s!==e.message||(s=e.message.replace(/.*in ([\w\/._-]+php:\d+).*/gi,"$1"),e.line=e.message.replace(/.*in [\w\/._-]+php:(\d+).*/gi,"$1"),s=s.replace(".php:"+e.line,".php"))),e.filePath=s&&s!==e.message?s.trim():"",e.errorType&&(e.line&&(e.message=e.message.replace("in "+e.filePath,"")),e.filePath&&(e.message=e.message.replace("on line "+e.line,"")),e.message=e.message.replace(/^(PHP [\w ]+:|#[\w_-]+:|Wordpress database error)(.*)/gi,"$2","").trim()),"object"===_typeof(t[e.errorTypeKey])?(e.errorLabel=t[e.errorTypeKey].label,e.legendColor=t[e.errorTypeKey].color,e.legendBackground=t[e.errorTypeKey].background):(e.errorLabel=e.errorType,e.legendColor="",e.legendBackground="",KWLOGMANAGER.lang_settings.othersErrors===e.errorType&&(e.legendColor="#ffffff",e.legendBackground="#000000")),e}.bind(this)),"oldest"===this.state.log.sort&&e.reverse(),e}},{key:"showDebugHelp",value:function(){return React.createElement("div",null,React.createElement("h2",null,KWLOGMANAGER.lang_settings.debugHelp.intro),React.createElement("p",{className:"code-snippet"},"define('WP_DEBUG', true);",React.createElement("br",null),"define('WP_DEBUG_LOG', true);",React.createElement("br",null),"define('WP_DEBUG_DISPLAY', false);"),React.createElement("p",null,KWLOGMANAGER.lang_settings.debugHelp.moreInfo," ",React.createElement("a",{href:"https://codex.wordpress.org/Debugging_in_WordPress",target:"_blank"},"Debugging In Wordpress")))}},{key:"_getLatestEntries",value:function(e,t){var a={modified:this.state.log.modified},n=this.state.log;e=e===!0,kwlm.remote.getLatestEntries(a,function(a){t||!0===a.changed||"true"===a.changed?(n.entries=this._prepareEntries(a.entries),n.modified=a.modified,n.filesize=a.filesize,this.setState({log:n}),this._broadcastChangeEvent(),kwlm.notify.success(KWLOGMANAGER.lang_settings.notify.viewerUpdate)):e&&kwlm.notify.alert(KWLOGMANAGER.lang_settings.notify.noEntries)}.bind(this),function(e){this._stopUpdateChecker(),kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.checkError)}.bind(this))}},{key:"_filterDuplicateEntries",value:function(e){e&&e instanceof Array||(e=[]);var t=[],a={};return e.forEach(function(e){void 0===a[e.key]&&(t.push(e),a[e.key]=!0)}.bind(this)),t}},{key:"_broadcastChangeEvent",value:function(){var e=this.state.log.view,t=0;t="group"===e?this._filterDuplicateEntries(this.state.log.entries).length:this.state.log.entries.length;var a=new CustomEvent("kwlm-log-changed",{detail:{debugging:this.state.debugging.enabled,simulating:this.state.debugging.simulating,count:t}});document.dispatchEvent(a)}},{key:"_isSimulationEnabled",value:function(){return document.cookie.indexOf("_kwlm-sim=1")>0}},{key:"_getDefaultDebugStatus",value:function(){return document.cookie.indexOf("_kwlm-dbg=1")>0}},{key:"_startUpdateChecker",value:function(){this.updateCheckerTimeout=setInterval(this.checkLatest.bind(this),this.currentTimeoutInterval)}},{key:"_stopUpdateChecker",value:function(){clearInterval(this.updateCheckerTimeout)}},{key:"render",value:function(){var e="",t="",a=[],n={},s="";if(this.ready)if(this.state.debugging.enabled||this.state.debugging.detected||this.state.debugging.simulating)if(this.state.log.found){var r=0,l=this.state.errorTypes,i="group";a=this.state.log.entries,t=React.createElement(KwlmDebugStatus,{debugging:this.state.debugging}),""!==this.state.query&&(a=a.filter(function(e){var t=new RegExp(this.state.query,"gi");return!!(e&&e.message&&t.test(e.message+" "+e.errorType))&&(n[e.errorTypeKey]=!0,!0)}.bind(this))),l.length>0&&(a=a.filter(function(e){return l.indexOf(e.errorTypeKey)!==-1}.bind(this))),"group"===this.state.log.view?(r=this._filterDuplicateEntries(a).length,i=React.createElement(KwlmGroupViewer,{entries:a})):(r=a.length,i=React.createElement(KwlmListViewer,{entries:a}));var o=a.length>0?"count has-errors":"count no-errors",c=1===a.length?" "+KWLOGMANAGER.lang_settings.entry:" "+KWLOGMANAGER.lang_settings.entries;e=React.createElement("section",{className:"kwlm-page--content"},React.createElement("header",{className:"entries-header"},React.createElement("h3",null,KWLOGMANAGER.lang_settings.logEntries),React.createElement("span",{className:"entries-count"},React.createElement("span",{className:o},r)," ",c)),i),s=React.createElement(KwlmSidebar,{app:this})}else e=this.state.debugging.enabled?React.createElement("section",{className:"kwlm-page--content"},React.createElement("p",null,KWLOGMANAGER.lang_settings.notify.debugFileWarn)):React.createElement("section",{className:"kwlm-page--content"},React.createElement("p",null,KWLOGMANAGER.lang_settings.notify.debugDisabled),this.showDebugHelp());else e=React.createElement("section",{className:"kwlm-page--content"},React.createElement("p",{className:"debugging-unknown"},KWLOGMANAGER.lang_settings.notify.isDebug),React.createElement("h3",null,KWLOGMANAGER.lang_settings.notify.howToDebug),this.showDebugHelp());else e=React.createElement("section",{className:"kwlm-page--content"},React.createElement("div",{className:"loading-viewer"},React.createElement("i",{className:"fa fa-spin fa-refresh"})," ",KWLOGMANAGER.lang_settings.loadEntries));return React.createElement("div",{className:"kwlm-container"},React.createElement("section",{className:"kwlm-page--header"},React.createElement("header",null,React.createElement("h2",null,"KolorWeb Log Manager ",t),React.createElement(KwlmErrorLegend,{app:this,query:this.state.query,filter:Object.keys(n)})),React.createElement(KwlmSearch,{app:this})),React.createElement("section",{className:"kwlm-page--viewer"},e,s),React.createElement(KwlmContentModal,{className:"settings-pane",isOpen:this.state.showSettings,size:"large"},React.createElement(KwlmSettings,{app:this})),React.createElement(KwlmContentModal,{className:"help-pane",isOpen:this.state.showHelp,size:"large"},React.createElement(KwlmHelpViewer,{app:this,section:this.state.helpSection})))}}])}(React.Component);KwlmApp.defaultProps={debugging:!1,pluginUrl:"",settings:{view:"group",sort:"newest",custom_errors:{},fold_sidebar:1},user:"",log_limit:0},KwlmApp.propTypes={debugging:PropTypes.bool.isRequired,pluginUrl:PropTypes.string.isRequired,settings:PropTypes.object.isRequired,user:PropTypes.string},kwlm.ModalMixin={getInitialState:function(){return{isOpen:this.props.isOpen}},openModal:function(){this.setState({isOpen:!0})},closeModal:function(){this.setState({isOpen:!1})}};var KwlmAdminBarNav=function(e){function t(e){var a;_classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a.ready=!1,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState();var n="external";return"undefined"!=typeof window.KWREACT&&(n="x"),console.log(React.version+" / "+n),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{count:0,debugging:{enabled:!1,simulating:!1,detected:!1}}}},{key:"_getDefaultProps",value:function(){return{debugging:!1,pluginUrl:""}}},{key:"componentDidMount",value:function(){kwlm.remote.getAllEntries({},function(e){var t=this.state.debugging;this.ready=!0,t.enabled=e.debugDetected?e.debugEnabled:this.props.debugging,t.simulating=this._isSimulationEnabled(),t.detected=e.debugDetected,this.setState({count:"group"===this.props.view?this._filterDuplicateEntries(e.entries).length:e.entries.length,debugging:t})}.bind(this)),document.addEventListener("kwlm-log-changed",function(e){var t=this.state.debugging,a=this.state.count;t.enabled=e.detail.debugging,t.simulating=e.detail.simulating,a=e.detail.count,this.setState({count:a,debugging:t})}.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("kwlm-log-changed")}},{key:"updateCount",value:function(e){this.setState({count:e})}},{key:"_isSimulationEnabled",value:function(){return document.cookie.indexOf("_kwlm-sim=1")>0}},{key:"_filterDuplicateEntries",value:function(e){e&&e instanceof Array||(e=[]);var t=[],a={};return e.forEach(function(e){var n=md5(e.message);void 0===a[n]&&(t.push(e),a[n]=!0)}.bind(this)),t}},{key:"render",value:function(){var e="";if(this.ready&&(this.state.debugging.enabled||this.state.debugging.simulating||this.state.debugging.detected)){var t=this.state.count>0?"error-count has-errors":"error-count no-errors",a=this.state.debugging.enabled?"enabled":"disabled",n=this.state.debugging.enabled?KWLOGMANAGER.lang_settings.enabled:KWLOGMANAGER.lang_settings.disabled,s="debug-status";this.state.debugging.simulating&&(a="simulating"),e=React.createElement("div",{className:"summary"},React.createElement("div",{className:s+" "+a},n),React.createElement("div",{className:t},this.state.count))}return React.createElement("div",{className:""},React.createElement("a",{href:this.props.pluginUrl,className:"ab-item"},"Log Manager ",e))}}])}(React.Component);KwlmAdminBarNav.defaultProps={debugging:!1,pluginUrl:"",view:"group"},KwlmAdminBarNav.propTypes={debugging:PropTypes.bool.isRequired,pluginUrl:PropTypes.string.isRequired};var KwlmContentModal=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a.mixins=[kwlm.ModalMixin],a}return _inherits(t,e),_createClass(t,[{key:"_getDefaultProps",value:function(){return{className:"",isOpen:!1,size:"medium"}}},{key:"componentDidMount",value:function(){this.setState({isOpen:this.props.isOpen})}},{key:"render",value:function(){var e=this.props.className?"kwlm-module--modal "+this.props.className:"kwlm-module--modal",t="modal-content-pane "+this.props.size;return this.props.isOpen?(document.querySelector("body").scrollTop=0,React.createElement("div",{className:e},React.createElement("div",{className:t},this.props.children))):React.createElement("div",null)}}])}(React.Component);KwlmContentModal.defaultProps={className:"",isOpen:!1,size:"medium"},KwlmContentModal.propTypes={className:PropTypes.string,isOpen:PropTypes.bool.isRequired,size:PropTypes.string};var KwlmDashboardWidget=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a.ready=!1,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{counts:{},debugging:{detected:!1,enabled:!1},log:{filsesize:0,found:!1,modified:"",timezone:"",customErrors:this.props.settings.custom_errors}}}},{key:"_getDefaultProps",value:function(){return{debugging:!1,pluginUrl:""}}},{key:"componentDidMount",value:function(){kwlm.remote.getAllEntries({},function(e){var t=this._prepareCount(e.entries),a=this.state.debugging,n=this.state.log;this.ready=!0,a.enabled=e.debugDetected?e.debugEnabled:this.props.debugging,a.detected=e.debugDetected,n.found=e.found,n.modified=e.modified,n.filesize=e.filesize,n.timezone=e.timezone,this.setState({counts:t,debugging:a,log:n})}.bind(this))}},{key:"_prepareCount",value:function(e){var t={},a=this.state.log.customErrors,n={},s="";return e&&e instanceof Array||(e=[]),e.forEach(function(e){s=md5(e.message.replace("\n","")),"undefined"==typeof n[s]&&(n[s]=e)}),Object.keys(n).forEach(function(e){var s,r=n[e],l=r.message.replace(/^(PHP [\w ]+):.*/gi,"$1");l=l&&l!==r.message?l.trim():"",""===l&&(l=null!==r.message.match(/^#[\w_-]+:/gi)?r.message.replace(/^#([\w_-]+):.*/gi,"$1"):r.message.replace(/^(Wordpress database error ).*/gi,"$1"),l=l&&l!==r.message?l.trim():KWLOGMANAGER.lang_settings.othersErrors),s=l.replace(/[ ]+/gi,"-").toLowerCase(),"undefined"==typeof t[s]?(t[s]={label:l,count:1,type:s,legendColor:"",legendBackground:""},"object"===_typeof(a[s])&&(t[s].label=a[s].label,t[s].legendColor=a[s].color,t[s].legendBackground=a[s].background)):t[s].count++}.bind(this)),t}},{key:"render",value:function(){var e="";if(this.ready)if(this.state.debugging.enabled||this.state.debugging.detected)if(this.state.log.found){var t={},a=[];Object.keys(this.state.counts).forEach(function(e){var a=this.state.counts[e],n=""!==a.legendColor&&""!==a.legendBackground?{color:a.legendColor+" !important",background:a.legendBackground+" !important"}:{};t[a.label]=React.createElement("li",{className:a.type,key:a.key},React.createElement("span",{className:"count",style:n},a.count)," ",a.label)}.bind(this)),Object.keys(t).sort().forEach(function(e){a.push(t[e])}),e=0===a.length?React.createElement("p",null,KWLOGMANAGER.lang_settings.notFound):React.createElement("ul",{className:"kwlm-module--error-legends"},a)}else e=this.state.debugging.enabled?React.createElement("p",null,KWLOGMANAGER.lang_settings.notify.debugFileWarn):React.createElement("p",null,KWLOGMANAGER.lang_settings.notify.debugDisabled);else e=React.createElement("p",null,KWLOGMANAGER.lang_settings.notify.isDebug);return this.ready||(e=React.createElement("div",{className:"loader"},KWLOGMANAGER.lang_settings.loadWidget)),React.createElement("div",{className:"container"},e,React.createElement("div",{className:"action"},React.createElement("a",{href:this.props.pluginUrl,className:"button button-primary"},KWLOGMANAGER.lang_settings.goToDebug," ",React.createElement("i",{className:"fa fa-arrow-circle-right"}))))}}])}(React.Component);KwlmDashboardWidget.defaultProps={debugging:!1,pluginUrl:""},KwlmDashboardWidget.propTypes={debugging:PropTypes.bool.isRequired,pluginUrl:PropTypes.string.isRequired};var KwlmDebugStatus=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a}return _inherits(t,e),_createClass(t,[{key:"_getDefaultProps",value:function(){return{debugging:{enabled:!1,detected:!0,simulating:!1}}}},{key:"render",value:function(){var e="not-detected",t="";this.props.debugging.enabled||this.props.debugging.detected?(e=this.props.debugging.enabled?"enabled":"disabled",t=this.props.debugging.enabled?KWLOGMANAGER.lang_settings.enabled:KWLOGMANAGER.lang_settings.disabled):this.props.debugging.simulating&&(e="simulating",t=KWLOGMANAGER.lang_settings.simulating);var a="kwlm-module--debug-status "+e;return React.createElement("span",{className:a},t)}}])}(React.Component);KwlmDebugStatus.defaultProps={debugging:{enabled:!1,detected:!0,simulating:!1}},KwlmDebugStatus.propTypes={debugging:PropTypes.object.isRequired};var KwlmErrorLegend=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{errors:{},errorTypes:[]}}},{key:"_getDefaultProps",value:function(){return{app:{ready:!1},query:"",filter:[]}}},{key:"toggleFilter",value:function(e){return function(t){t.preventDefault();var a=this.state.errorTypes;if("clear"===e)a=[];else{var n=a.indexOf(e);n===-1?a.push(e):a.splice(n,1)}this.setState({errorTypes:a}),this.props.app.filterEntriesByErrorType(a)}.bind(this)}},{key:"render",value:function(){var e=[];if(this.props.app.ready){var t=this.props.app.getEntries(),a=this.props.app.state.log.customErrors,n={},s={};t.forEach(function(e){if(void 0===s[e.key]&&e.errorType){var t=!0,r=e.errorTypeKey;if(""!==this.props.query){var l=new RegExp(this.props.query,"gi");e&&e.message&&l.test(e.message+" "+e.errorType)||(t=!1)}if(t){if(void 0===n[r]){var i={label:e.errorType,color:"",background:""};"undefined"!=typeof a[r]&&(i.label=a[r].label,i.color="undefined"==typeof a[r].color?"":a[r].color,i.background="undefined"==typeof a[r].background?"":a[r].background),n[r]={className:r,label:i.label,count:1,styles:{color:i.color,background:i.background}}}else n[r].count++;s[e.key]=!0}}}.bind(this)),Object.keys(n).filter(function(e){var t=this.props.filter;return!(t.length>0)||t.indexOf(e)!==-1}.bind(this)).forEach(function(t,a){var s=n[t],r=s.className,l=this.state.errorTypes.length>0,i=!(!l||this.state.errorTypes.indexOf(t)===-1),o={};KWLOGMANAGER.lang_settings.othersErrors.toLowerCase()===r.toLowerCase()&&(r="others"),l&&(r+=i?" selected":" not-selected"),l&&!i||""===s.styles.color||""===s.styles.background||(o={color:s.styles.color,backgroundColor:s.styles.background}),0===a&&e.push(React.createElement("li",{className:"info",title:KWLOGMANAGER.lang_settings.legendInfo},KWLOGMANAGER.lang_settings.legend)),e.push(React.createElement("li",{className:r,key:a},React.createElement("a",{href:"#",onClick:this.toggleFilter(t),title:"Filter by: "+s.label},React.createElement("span",{className:"count",style:o},s.count)," ",s.label)))}.bind(this))}return React.createElement("ul",{className:"kwlm-module--error-legends"},e)}}])}(React.Component);KwlmErrorLegend.defaultProps={app:{ready:!1},query:"",filter:[]},KwlmErrorLegend.propTypes={app:PropTypes.object.isRequired,query:PropTypes.string,filter:PropTypes.array};var KwlmGroupEntry=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a.toggleDetails=a.toggleDetails.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{showDetails:!1}}},{key:"_getDefaultProps",value:function(){return{group:{date:"",message:"",entries:[]},key:""}}},{key:"toggleDetails",value:function(e){e.preventDefault(),this.setState({showDetails:!this.state.showDetails})}},{key:"render",value:function(){var e=["group-entry"],t=this.props.group,a=""===t.legendBackground?{}:{borderLeftColor:t.legendBackground},n=[],s="";if(t.errorType&&(e.push(t.errorTypeKey),n.push(React.createElement("div",{className:"error-type"},React.createElement("i",{className:"fa fa-angle-right"})," ",KWLOGMANAGER.lang_settings.type," ",React.createElement("span",{className:"type"},t.errorLabel)))),t.line&&n.push(React.createElement("div",{className:"line-number"},React.createElement("i",{className:"fa fa-angle-right"})," ",KWLOGMANAGER.lang_settings.line," ",React.createElement("span",{className:"line"},t.line))),t.filePath&&n.push(React.createElement("div",{className:"file-path"},React.createElement("i",{className:"fa fa-angle-right"})," ",KWLOGMANAGER.lang_settings.file," ",React.createElement("span",{className:"file"},t.filePath))),this.state.showDetails){var r=[];for(var l in t.entries){var i=t.entries[l],o=new Date(i.date+" "+i.time+" "+i.timezone);r.push(React.createElement(KwlmTimeStamp,{key:r.length,date:o}))}s=React.createElement("div",{className:"group-entry-details active"},React.createElement("div",{className:"details"},React.createElement("a",{href:"#",className:"toggle hide-group-details",onClick:this.toggleDetails},KWLOGMANAGER.lang_settings.hideDetails),r))}else s=React.createElement("div",{className:"group-entry-details"},React.createElement("div",{className:"details"},React.createElement("a",{href:"#",className:"toggle show-group-details",onClick:this.toggleDetails},KWLOGMANAGER.lang_settings.moreDetails)));return React.createElement("section",{className:e.join(" "),style:a},React.createElement("aside",{className:"summary"},React.createElement(KwlmTimeStamp,{date:t.date})),React.createElement("div",{className:"message"},React.createElement("div",{className:"force-wrap"},t.message),React.createElement("div",{className:"kwlm-module--error-summary"},n),s))}}])}(React.Component);KwlmGroupEntry.defaultProps={group:{date:"",message:"",entries:[]},key:""},KwlmGroupEntry.propTypes={group:PropTypes.object.isRequired,key:PropTypes.string.isRequired};var KwlmGroupViewer=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a}return _inherits(t,e),_createClass(t,[{key:"_getDefaultProps",value:function(){return{entries:[]}}},{key:"render",value:function(){var e={},t=[];this.props.entries.forEach(function(t){void 0===e[t.key]&&(e[t.key]={date:new Date(t.date+" "+t.time+" "+t.timezone),message:t.message,line:t.line,errorType:t.errorType,errorLabel:t.errorLabel,errorTypeKey:t.errorTypeKey,legendColor:t.legendColor,legendBackground:t.legendBackground,filePath:t.filePath,entries:[]}),e[t.key].entries.push(t)}.bind(this));for(var a in e)t.push(React.createElement(KwlmGroupEntry,{key:a,group:e[a]}));return 0===t.length&&(t=React.createElement("p",null,KWLOGMANAGER.lang_settings.notFound)),React.createElement("div",{className:"group-entries"},t)}}])}(React.Component);KwlmGroupViewer.defaultProps={entries:[]},KwlmGroupViewer.propTypes={entries:PropTypes.array.isRequired};var KwlmHelpViewer=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{section:this.props.section}}},{key:"_getDefaultProps",value:function(){return{app:{ready:!1},section:""}}},{key:"switchHelpSection",value:function(e){return function(t){t.preventDefault(),this.setState({section:e})}.bind(this)}},{key:"getHelpContent",value:function(e){switch(e){case"toggle-debugging":return React.createElement("div",{className:"help-section help--toggle-debugging"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.toggleDebugging.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.toggleDebugging.p1),React.createElement("br",null),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.toggleDebugging.action_li_01)),React.createElement("br",null),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.toggleDebugging.p2,React.createElement("br",null),React.createElement("br",null),React.createElement("a",{href:"#",onClick:this.switchHelpSection("configure-debug-toggling")},KWLOGMANAGER.lang_settings.help.learnMore)));case"configure-debug-toggling":var t="define( 'WP_DEBUG', true );\n\ndefine( 'WP_DEBUG_LOG', true );\n\ndefine( 'WP_DEBUG_LOG_DISPLAY', false );\n",a="define( 'WP_DEBUG', false );\n\ndefine( 'WP_DEBUG_LOG', false );\n\ndefine( 'WP_DEBUG_LOG_DISPLAY', false );\n";return React.createElement("div",{className:"help-section help--configure-debug-toggling"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.debugToggling.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.debugToggling.p1),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.debugToggling.p2),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.debugToggling.p3),React.createElement("p",null,React.createElement("strong",{
className:"heading"},KWLOGMANAGER.lang_settings.help.step," 1"),KWLOGMANAGER.lang_settings.help.sections.debugToggling.step1_1),React.createElement("blockquote",{className:"code"},t),React.createElement("p",null,React.createElement("strong",{className:"heading"},KWLOGMANAGER.lang_settings.help.step," 2")," ",KWLOGMANAGER.lang_settings.help.sections.debugToggling.step1_2),React.createElement("blockquote",{className:"code"},a),React.createElement("p",null,React.createElement("strong",{className:"heading"},KWLOGMANAGER.lang_settings.help.step," 3")," ",KWLOGMANAGER.lang_settings.help.sections.debugToggling.step2_1));case"fold-sidebar":return React.createElement("div",{className:"help-section help--fold-sidebar"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.foldSidebar.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.foldSidebar.p1),React.createElement("br",null),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.foldSidebar.action_li_01)));case"custom-errors":return React.createElement("div",{className:"help-section help--custom-errors"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.addCustomErrors.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.addCustomErrors.p1),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.addCustomErrors.action_li_01)));case"how-to-use-custom-errors":return React.createElement("div",{className:"help-section help--how-to-use-custom-errors"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.useCustomErrors.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.useCustomErrors.p1_1," ",React.createElement("strong",null,"#")," ",KWLOGMANAGER.lang_settings.help.sections.useCustomErrors.p1_2," ",React.createElement("strong",null,":")),React.createElement("p",null,React.createElement("em",null,KWLOGMANAGER.lang_settings.help.sections.useCustomErrors.p2)),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.useCustomErrors.p3,React.createElement("br",null),React.createElement("strong",null,"error_log( '#my-custom-error:  The error message goes here' );")));case"sort-entries":return React.createElement("div",{className:"help-section help--sort-entries"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.sortEntries.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.sortEntries.p1),React.createElement("br",null),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.sortEntries.action_li_01," ",React.createElement("span",{className:"sidebar-icon"},React.createElement("i",{className:"fa fa-sort-alpha-asc"}))),React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.sortEntries.action_li_02," ",React.createElement("span",{className:"sidebar-icon"},React.createElement("i",{className:"fa fa-sort-alpha-desc"})))));case"switch-view-type":return React.createElement("div",{className:"help-section help--switch-view-type"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.helpView.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.helpView.p1),React.createElement("p",null,React.createElement("strong",{className:"heading"},KWLOGMANAGER.lang_settings.help.sections.helpView.p2_h)," ",KWLOGMANAGER.lang_settings.help.sections.helpView.p2),React.createElement("p",null,React.createElement("strong",{className:"heading"},KWLOGMANAGER.lang_settings.help.sections.helpView.p3_h)," ",KWLOGMANAGER.lang_settings.help.sections.helpView.p3),React.createElement("br",null),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.helpView.action_li_01," ",React.createElement("span",{className:"sidebar-icon"},React.createElement("i",{className:"fa fa-list-alt"}))),React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.helpView.action_li_01," ",React.createElement("span",{className:"sidebar-icon"},React.createElement("i",{className:"fa fa-list"})))));case"refresh-entries":return React.createElement("div",{className:"help-section help--refresh-entries"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.newLog.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.newLog.p1_1," ",this.props.app.currentTimeoutInterval/1e3," ",KWLOGMANAGER.lang_settings.help.sections.newLog.p1_2),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.newLog.p2),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.newLog.action_li_01," ",React.createElement("span",{className:"sidebar-icon"},React.createElement("i",{className:"fa fa-refresh"})))));case"clear-log":return React.createElement("div",{className:"help-section help--clear-log"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.clearLog.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.clearLog.p1),React.createElement("br",null),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.clearLog.action_li_01," ",React.createElement("span",{className:"sidebar-icon"},React.createElement("i",{className:"fa fa-remove"})))));case"download-log":return React.createElement("div",{className:"help-section help--download-log"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.help.sections.downloadLog.title),React.createElement("p",null,KWLOGMANAGER.lang_settings.help.sections.downloadLog.p1),React.createElement("br",null),React.createElement("em",null,KWLOGMANAGER.lang_settings.help.action),React.createElement("ul",null,React.createElement("li",null,KWLOGMANAGER.lang_settings.help.sections.downloadLog.action_li_01," ",React.createElement("span",{className:"sidebar-icon"},React.createElement("i",{className:"fa fa-download"})))));default:return React.createElement("div",{className:"help-section help--home"},React.createElement("ul",{className:"help--questions"},React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("toggle-debugging")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.toggleDebugging.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("configure-debug-toggling")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"}),KWLOGMANAGER.lang_settings.help.sections.debugToggling.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("fold-sidebar")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.foldSidebar.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("custom-errors")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.addCustomErrors.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("how-to-use-custom-errors")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.useCustomErrors.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("sort-entries")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.sortEntries.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("switch-view-type")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.helpView.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("refresh-entries")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.newLog.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("clear-log")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.clearLog.question)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.switchHelpSection("download-log")},React.createElement("i",{className:"fa fa-arrow-circle-o-right"})," ",KWLOGMANAGER.lang_settings.help.sections.downloadLog.question))))}}},{key:"render",value:function(){if(this.props.app.ready){var e="";return""!==this.state.section&&(e=React.createElement("li",{className:"back-btn"},React.createElement("a",{href:"#",onClick:this.switchHelpSection("")},React.createElement("i",{className:"fa fa-chevron-circle-right"})," ",KWLOGMANAGER.lang_settings.back))),React.createElement("section",{className:"help-container"},React.createElement("header",null,React.createElement("h2",null,KWLOGMANAGER.lang_settings.help.name)),this.getHelpContent(this.state.section),React.createElement("ul",{className:"buttons"},e,React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.props.app.closeHelp},React.createElement("i",{className:"fa fa-chevron-circle-right"})," ",KWLOGMANAGER.lang_settings.close))))}return React.createElement("section",{className:"help-container"})}}])}(React.Component);KwlmHelpViewer.defaultProps={app:{ready:!1},section:""},KwlmHelpViewer.propTypes={app:PropTypes.object.isRequired,section:PropTypes.string};var KwlmListViewer=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{entries:this.props.entries}}},{key:"_getDefaultProps",value:function(){return{entries:[]}}},{key:"render",value:function(){var e=this.props.entries.map(function(e,t){return React.createElement(KwlmLogEntry,{key:t,entry:e})});return 0===e.length&&(e=React.createElement("p",null,KWLOGMANAGER.lang_settings.notFound)),React.createElement("div",{className:"log-entries"},e)}}])}(React.Component);KwlmListViewer.defaultProps={entries:[]},KwlmListViewer.propTypes={entries:PropTypes.array.isRequired};var KwlmLogEntry=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a}return _inherits(t,e),_createClass(t,[{key:"_getDefaultProps",value:function(){return{entry:{date:"",errorType:"",errorLabel:"",line:"",filePath:"",message:"",time:"",timezone:""},className:""}}},{key:"render",value:function(){var e=this.props.entry,t=["log-entry"],a=""===e.legendBackground?{}:{borderLeftColor:e.legendBackground},n=new Date(e.date+" "+e.time+" "+e.timezone),s=[];return this.props.className&&t.push(this.props.className),e.errorType&&(t.push(e.errorType.toLowerCase().replace(/[ ]+/gi,"-")),s.push(React.createElement("div",{className:"error-type"},React.createElement("i",{className:"fa fa-angle-right"})," ",KWLOGMANAGER.lang_settings.type," ",React.createElement("span",{className:"type"},e.errorLabel)))),e.line&&s.push(React.createElement("div",{className:"line-number"},React.createElement("i",{className:"fa fa-angle-right"})," ",KWLOGMANAGER.lang_settings.line," ",React.createElement("span",{className:"line"},e.line))),e.filePath&&s.push(React.createElement("div",{className:"file-path"},React.createElement("i",{className:"fa fa-angle-right"})," ",KWLOGMANAGER.lang_settings.file," ",React.createElement("span",{className:"file"},e.filePath))),React.createElement("section",{className:t.join(" "),style:a},React.createElement(KwlmTimeStamp,{date:n}),React.createElement("div",{className:"message force-wrap"},e.message,React.createElement("div",{className:"kwlm-module--error-summary"},s)))}}])}(React.Component);KwlmLogEntry.defaultProps={entry:{date:"",errorType:"",errorLabel:"",line:"",filePath:"",message:"",time:"",timezone:""},className:""},KwlmLogEntry.propTypes={entry:PropTypes.object.isRequired};var KwlmNavAction=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a}return _inherits(t,e),_createClass(t,[{key:"_getDefaultProps",value:function(){return{nav:{action:"",label:"",key:"",icon:""},notify:null,selected:!1}}},{key:"componentDidMount",value:function(){this.props.selected&&this.props.nav.action()}},{key:"handleLinkClicked",value:function(e){e.preventDefault(),this.props.nav.action&&this.props.nav.action(),this.props.notify&&this.props.notify(this.props.nav.key)}},{key:"render",value:function(){var e=this.props.selected?"active":"",t="fa fa-"+this.props.nav.icon,a=React.createElement("a",{href:"#",onClick:this.handleLinkClicked.bind(this),title:this.props.nav.label},React.createElement("i",{className:t})," ",React.createElement("span",null,this.props.nav.label));return"active"===e?React.createElement("li",{className:e},a):React.createElement("li",null,a," ")}}])}(React.Component);KwlmNavAction.defaultProps={nav:{action:"",label:"",key:"",icon:""},notify:null,selected:!1},KwlmNavAction.propTypes={nav:PropTypes.object.isRequired,notify:PropTypes.func,selected:PropTypes.bool};var KwlmNavActionGroup=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a.updateSelected=a.updateSelected.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{selected:""}}},{key:"_getDefaultProps",value:function(){return{group:{name:"","default":"",trackSelected:!0,options:[]}}}},{key:"componentDidMount",value:function(){this.setState({selected:this.props.group["default"]})}},{key:"updateSelected",value:function(e){this.props.group.trackSelected&&this.setState({selected:e})}},{key:"render",value:function(){var e=this.props.group,t=e.options.map(function(e,t){var a=!(!e.key||e.key!=this.state.selected);return React.createElement(KwlmNavAction,{key:t,notify:this.updateSelected,selected:a,nav:e})}.bind(this));return React.createElement("div",{className:"menu-group"},React.createElement("h3",null,e.name),React.createElement("ul",null,t))}}])}(React.Component);KwlmNavActionGroup.defaultProps={group:{name:"","default":"",trackSelected:!0,options:[]}},KwlmNavActionGroup.propTypes={group:PropTypes.object.isRequired};var KwlmOverlay=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{active:!1}}},{key:"_getDefaultProps",value:function(){return{active:!1,close:null}}},{key:"componentDidMount",value:function(){this.setState({active:this.props.active})}},{key:"componentWillReceiveProps",value:function(e){this.setState({active:e.active})}},{key:"render",value:function(){var e=this.state.active===!0?"overlay active":"overlay hidden";return React.createElement("div",{className:e},React.createElement("div",{className:"overlay--content"},this.props.children))}}])}(React.Component);KwlmOverlay.defaultProps={active:!1,close:null},KwlmOverlay.propTypes={active:PropTypes.bool.isRequired,children:PropTypes.element.isRequired};var KwlmPrettyFilesize=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a}return _inherits(t,e),_createClass(t,[{key:"_getDefaultProps",value:function(){return{filesize:0,precision:2}}},{key:"formatDecimal",value:function(e,t){var a=parseInt(1+Array(t).join("0"));return Math.round(e*a)/a}},{key:"render",value:function(){var e=1e3,t=1e3*e,a=1e3*t,n=1e3*a,s=this.props.filesize,r="Bytes";return s>n?(s/=n,r="TB"):s>a?(s/=a,r="GB"):s>t?(s/=t,r="MB"):s>e&&(s/=e,r="KB"),React.createElement("div",{className:"kwlm-module--filesize"},this.formatDecimal(s,this.props.precision)," ",r)}}])}(React.Component);KwlmPrettyFilesize.defaultProps={filesize:0,precision:2},KwlmPrettyFilesize.propTypes={filesize:PropTypes.number.isRequired};var KwlmSearch=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a.minimumLength=3,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a.q=React.createRef(),a.handleSearch=a.handleSearch.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{query:""}}},{key:"_getDefaultProps",value:function(){return{app:{ready:!1}}}},{key:"componentDidMount",value:function(){this.q.current.focus()}},{key:"handleSearch",value:function(e){if(e.preventDefault(),this.props.app.ready){var t=this.q.current.value;this.q.current.value=t=t.replace(/[^a-z0-9_=\/ ]+/gi,""),"string"==typeof t&&t.length>=this.minimumLength&&this.props.app.searchEntries?(this.setState({query:t}),this.props.app.searchEntries(t)):(this.setState({query:""}),this.props.app.searchEntries(""))}}},{key:"render",value:function(){var e="";return this.state.query.length>=this.minimumLength&&(e=React.createElement("div",{className:"search-query"},React.createElement("span",{className:"label"},KWLOGMANAGER.lang_settings.searchingFor)," ",React.createElement("strong",{className:"query"},this.state.query))),React.createElement("div",{className:"kwlm-module--search"},React.createElement("div",{className:"search-component"},React.createElement("i",{className:"fa fa-search"}),React.createElement("input",{type:"text",name:"q",ref:this.q,autoComplete:"off",className:"search-field",placeholder:KWLOGMANAGER.lang_settings.searchFor,onChange:this.handleSearch})),e)}}])}(React.Component);KwlmSearch.defaultProps={app:{ready:!1}},KwlmSearch.propTypes={app:PropTypes.object.isRequired};var KwlmSettings=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a.errorNewLabel=React.createRef(),a.errorNewKey=React.createRef(),a.legendNewColor=React.createRef(),a.legendNewBackgroundColor=React.createRef(),a.errorEditLabel=React.createRef(),a.errorEditKey=React.createRef(),a.legendEditColor=React.createRef(),a.legendEditBackgroundColor=React.createRef(),a.logLimit=React.createRef(),a.updateDebugStatus=a.updateDebugStatus.bind(a),a.updateFoldSidebar=a.updateFoldSidebar.bind(a),a.updateLogLimit=a.updateLogLimit.bind(a),a.showAddCustomErrorForm=a.showAddCustomErrorForm.bind(a),a.showEditCustomErrorForm=a.showEditCustomErrorForm.bind(a),a.showCustomErrorsList=a.showCustomErrorsList.bind(a),a.saveCustomError=a.saveCustomError.bind(a),a.updateCustomError=a.updateCustomError.bind(a),a.removeCustomError=a.removeCustomError.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{editing:null,ui:{customErrorView:"list"},showPicker:{}}}},{key:"_getDefaultProps",value:function(){return{app:{ready:!1}}}},{key:"updateDebugStatus",value:function(e){e.preventDefault(),this.props.app.setDebugStatus(!this.props.app.state.debugging.enabled),this.forceUpdate()}},{key:"updateFoldSidebar",value:function(e){e.preventDefault(),this.props.app.setSidebarFolded(!this.props.app.state.ui.foldSidebar),this.forceUpdate()}},{key:"updateLogLimit",value:function(e){e.preventDefault(),this.props.app.setLogLimit(this.logLimit.current.value),this.forceUpdate()}},{key:"showAddCustomErrorForm",value:function(e){e.preventDefault(),this.setState({ui:{customErrorView:"add"},showPicker:{color:!1,background:!1}})}},{key:"showEditCustomErrorForm",value:function(e){return function(t){t.preventDefault(),this.setState({editing:e,ui:{customErrorView:"edit"},showPicker:{color:!1,background:!1}})}.bind(this)}},{key:"showCustomErrorsList",value:function(e){e.preventDefault(),this._showCustomErrorsList()}},{key:"saveCustomError",value:function(e){e.preventDefault();var t=this.props.app.state.log,a={label:this.errorNewLabel.current.value,key:this.errorNewKey.current.value,color:this.legendNewColor.current.value,background:this.legendNewBackgroundColor.current.value};this._isValidCustomError(a)?(""===t.customErrors&&(t.customErrors={}),t.customErrors[a.key]=a,kwlm.remote.updateGlobalSetting("custom_errors",t.customErrors,function(e){e.updated&&(kwlm.notify.success(KWLOGMANAGER.lang_settings.notify.customErrorAdd),t.entries=t.entries.map(function(e){return"object"===_typeof(t.customErrors[e.errorTypeKey])?(e.errorLabel=a.label,e.legendColor=a.color,e.legendBackground=a.background):(e.errorLabel=e.errorType,e.legendColor="",e.legendBackground="",KWLOGMANAGER.lang_settings.othersErrors===e.errorType&&(e.legendColor="#ffffff",e.legendBackground="#000000")),e}),this.props.app.setState({log:t}),this._showCustomErrorsList())}.bind(this))):kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.customErrorErr)}},{key:"updateCustomError",value:function(e){var t=e.key;return function(a){a.preventDefault();var n=this.props.app.state.log;e.key=this.errorEditKey.current.value,e.label=this.errorEditLabel.current.value,e.color=this.legendEditColor.current.value,e.background=this.legendEditBackgroundColor.current.value,this._isValidCustomError(e)?(t!==e.key&&delete n.customErrors[t],n.customErrors[e.key]=e,kwlm.remote.updateGlobalSetting("custom_errors",n.customErrors,function(t){t.updated&&(kwlm.notify.success(KWLOGMANAGER.lang_settings.notify.customErrorUpd),n.entries=n.entries.map(function(t){return"object"===_typeof(n.customErrors[t.errorTypeKey])?(t.errorLabel=e.label,t.legendColor=e.color,t.legendBackground=e.background):(t.errorLabel=t.errorType,t.legendColor="",t.legendBackground="",KWLOGMANAGER.lang_settings.othersErrors===t.errorType&&(t.legendColor="#ffffff",t.legendBackground="#000000")),t}),this.props.app.setState({log:n}),this._showCustomErrorsList(),this.forceUpdate())}.bind(this))):kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.customErrorErr)}.bind(this)}},{key:"removeCustomError",value:function(e){return function(t){if(t.preventDefault(),confirm(KWLOGMANAGER.lang_settings.notify.customErrorAsk+' "'+e.label+'"?')){var a=this.props.app.state.log;"object"===_typeof(a.customErrors[e.key])?(delete a.customErrors[e.key],kwlm.remote.updateGlobalSetting("custom_errors",a.customErrors,function(t){t.updated&&(kwlm.notify.success(KWLOGMANAGER.lang_settings.notify.customErrorDel),a.entries=a.entries.map(function(t){return t.errorTypeKey===e.key&&(t.errorLabel=t.errorType,t.legendColor="",t.legendBackground=""),t}),this.props.app.setState({log:a}))}.bind(this))):kwlm.notify.error(KWLOGMANAGER.lang_settings.notify.customErrorDie)}}.bind(this)}},{key:"_isValidCustomError",value:function(e){return!(!e.label||!e.key)}},{key:"_showCustomErrorsList",value:function(){this.setState({editing:null,ui:{customErrorView:"list"}})}},{key:"render",value:function(){if(this.props.app.ready){var e="",t="";if("add"===this.state.ui.customErrorView)e=React.createElement("div",{className:"add-custom-error"},React.createElement("h3",null,KWLOGMANAGER.lang_settings.addCustomErr.name),React.createElement("div",{className:"form-row"},React.createElement("div",{className:"form-field col50"},React.createElement("label",{className:"required"},KWLOGMANAGER.lang_settings.addCustomErr.label),React.createElement("input",{type:"text",ref:this.errorNewLabel})),React.createElement("div",{className:"form-field col50"},React.createElement("label",{className:"required"},KWLOGMANAGER.lang_settings.addCustomErr.key),React.createElement("input",{type:"text",ref:this.errorNewKey}))),React.createElement("div",{className:"form-row"},React.createElement("div",{className:"form-field col50"},React.createElement("label",null,KWLOGMANAGER.lang_settings.addCustomErr.color),React.createElement("input",{type:"text",className:"color-picker",ref:this.legendNewColor})),React.createElement("div",{className:"form-field col50"},React.createElement("label",null,KWLOGMANAGER.lang_settings.addCustomErr.bgcolor),React.createElement("input",{type:"text",className:"color-picker",ref:this.legendNewBackgroundColor}))),React.createElement("div",{className:"view-buttons"},React.createElement("a",{href:"#",onClick:this.showCustomErrorsList},React.createElement("i",{className:"fa fa-times"})," ",KWLOGMANAGER.lang_settings.cancel),React.createElement("a",{href:"#",className:"primary",onClick:this.saveCustomError},React.createElement("i",{className:"fa fa-save"})," ",KWLOGMANAGER.lang_settings.save)));else if("edit"===this.state.ui.customErrorView)e=React.createElement("div",{className:"edit-custom-error"},React.createElement("h3",null,KWLOGMANAGER.lang_settings.updCustomErr.name),React.createElement("div",{className:"form-row"},React.createElement("div",{className:"form-field col50"},React.createElement("label",{className:"required"},KWLOGMANAGER.lang_settings.addCustomErr.label),React.createElement("input",{type:"text",ref:this.errorEditLabel,defaultValue:this.state.editing.label})),React.createElement("div",{className:"form-field col50"},React.createElement("label",{className:"required"},KWLOGMANAGER.lang_settings.addCustomErr.key),React.createElement("input",{type:"text",ref:this.errorEditKey,defaultValue:this.state.editing.key}))),React.createElement("div",{className:"form-row"},React.createElement("div",{className:"form-field col50"},React.createElement("label",null,KWLOGMANAGER.lang_settings.addCustomErr.color),React.createElement("input",{type:"text",ref:this.legendEditColor,className:"color-picker",defaultValue:this.state.editing.color})),React.createElement("div",{className:"form-field col50"},React.createElement("label",null,KWLOGMANAGER.lang_settings.addCustomErr.bgcolor),React.createElement("input",{type:"text",ref:this.legendEditBackgroundColor,className:"color-picker",defaultValue:this.state.editing.background}))),React.createElement("div",{className:"view-buttons"},React.createElement("a",{href:"#",onClick:this.showCustomErrorsList},React.createElement("i",{className:"fa fa-times"})," ",KWLOGMANAGER.lang_settings.cancel),React.createElement("a",{href:"#",className:"primary",onClick:this.updateCustomError(this.state.editing)},React.createElement("i",{className:"fa fa-save"})," ",KWLOGMANAGER.lang_settings.update)));else{var a="",n=this.props.app.state.log.customErrors,s=Object.keys(n).sort().map(function(e,t){var a=n[e],s=React.createElement("span",{className:"color-swatch",style:{backgroundColor:a.color}}),r=React.createElement("span",{className:"color-swatch",style:{backgroundColor:a.background}});return React.createElement("li",{className:"table-row",key:t},React.createElement("div",{className:"error-key"},a.key),React.createElement("div",{className:"error-label"},a.label),React.createElement("div",{className:"legend-color"}," ",s),React.createElement("div",{className:"legend-background"},r),React.createElement("div",{className:"actions"},React.createElement("a",{href:"#",onClick:this.showEditCustomErrorForm(a),title:KWLOGMANAGER.lang_settings.edit}," ",React.createElement("i",{className:"fa fa-pencil"})),React.createElement("a",{href:"#",onClick:this.removeCustomError(a),title:KWLOGMANAGER.lang_settings["delete"]}," ",React.createElement("i",{className:"fa fa-trash"}))))}.bind(this));a=s.length?React.createElement("ul",{className:"custom-errors-list"},React.createElement("li",{className:"header"},React.createElement("div",{className:"error-key"},KWLOGMANAGER.lang_settings.addCustomErr.key),React.createElement("div",{className:"error-label"},KWLOGMANAGER.lang_settings.addCustomErr.label),React.createElement("div",{className:"legend-color"},KWLOGMANAGER.lang_settings.addCustomErr.color),React.createElement("div",{className:"legend-background"},KWLOGMANAGER.lang_settings.addCustomErr.bgcolor)),s):React.createElement("p",null,KWLOGMANAGER.lang_settings.addCustomErr.noErr),e=React.createElement("div",{className:"list-custom-error"},a,React.createElement("div",{className:"view-buttons"},React.createElement("a",{href:"#",className:"primary",onClick:this.showAddCustomErrorForm.bind(this)},KWLOGMANAGER.lang_settings.addCustomErr.addNew))),t="1"===KWLOGMANAGER.debug_toggleable?React.createElement("a",{href:"#",className:"toggle-field",onClick:this.updateDebugStatus},React.createElement("i",{className:this.props.app.state.debugging.enabled?"fa fa-toggle-on":"fa fa-toggle-off"})):React.createElement("p",null,KWLOGMANAGER.lang_settings.addCustomErr.config,"  ",React.createElement("a",{href:"#",onClick:this.props.app.openHelp("configure-debug-toggling")},KWLOGMANAGER.lang_settings.seeHelp),".")}return React.createElement("div",{className:"kwlm-module--form settings-pane"},React.createElement("h2",null,KWLOGMANAGER.lang_settings.settings.name),React.createElement(KwlmTabs,{handler:this,tabs:[KWLOGMANAGER.lang_settings.settings.general,KWLOGMANAGER.lang_settings.settings.customError]},React.createElement("div",null,React.createElement("div",{className:"form-row"},React.createElement("label",null,KWLOGMANAGER.lang_settings.settings.enableDebug),t),React.createElement("div",{className:"form-row"},React.createElement("label",null,KWLOGMANAGER.lang_settings.settings.fold),React.createElement("a",{href:"#",className:"toggle-field",onClick:this.updateFoldSidebar},React.createElement("i",{className:this.props.app.state.ui.foldSidebar?"fa fa-toggle-on":"fa fa-toggle-off"}))),React.createElement("div",{className:"form-row"},React.createElement("div",{className:"form-field col50"},React.createElement("label",{className:"required"},KWLOGMANAGER.lang_settings.settings.logLimit),React.createElement("input",{className:"small",type:"number",step:"1",min:"0",max:"100",ref:this.logLimit,defaultValue:this.props.app.state.log_limit,onBlur:this.updateLogLimit})))),React.createElement("div",null,React.createElement("div",{className:"form-row"},e))),React.createElement("ul",{className:"buttons"},React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.props.app.closeSettings},React.createElement("i",{className:"fa fa-chevron-circle-right"})," ",KWLOGMANAGER.lang_settings.close))))}return React.createElement("div",{className:"kwlm-module--form settings-container"})}}])}(React.Component);KwlmSettings.defaultProps={app:{ready:!1}},KwlmSettings.propTypes={app:PropTypes.object.isRequired};var KwlmSidebar=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a}return _inherits(t,e),_createClass(t,[{key:"getMenuOptions",value:function(){return[{name:KWLOGMANAGER.lang_settings.actions.name,"default":"",trackSelected:!1,options:[{label:KWLOGMANAGER.lang_settings.actions.options.refresh,key:"refresh",icon:"refresh",action:this.props.app.refreshViewer.bind(this)},{label:KWLOGMANAGER.lang_settings.actions.options.clearLog,key:"clear",icon:"remove",action:this.props.app.clearLog.bind(this)},{label:KWLOGMANAGER.lang_settings.actions.options.download,key:"download",icon:"download",action:this.props.app.downloadFile.bind(this)}]},{name:KWLOGMANAGER.lang_settings.sort.name,"default":this.props.app.state.log.sort,trackSelected:!0,options:[{label:KWLOGMANAGER.lang_settings.sort.options.newest,key:"newest",icon:"sort-alpha-asc",action:this.props.app.sortNewest.bind(this)},{label:KWLOGMANAGER.lang_settings.sort.options.oldest,key:"oldest",icon:"sort-alpha-desc",action:this.props.app.sortOldest.bind(this)}]},{name:KWLOGMANAGER.lang_settings.view.name,"default":this.props.app.state.log.view,trackSelected:!0,options:[{label:KWLOGMANAGER.lang_settings.view.options.group,key:"group",icon:"list-alt",
action:this.props.app.showGroupView.bind(this)},{label:KWLOGMANAGER.lang_settings.view.options.list,key:"list",icon:"list",action:this.props.app.showListView.bind(this)}]}]}},{key:"_getDefaultProps",value:function(){return{app:{ready:!1}}}},{key:"render",value:function(){if(this.props.app.ready){var e=this.props.app.getLastModified(),t=this.getMenuOptions(),a="";this.props.app.isSimulating()&&t.push({name:"Simulating","default":"",trackSelected:!1,options:[{label:KWLOGMANAGER.lang_settings.disable,key:"disable-debugging",icon:"power-off",action:this.props.app.stopSimulation.bind(this)}]});var n=t.map(function(e,t){return React.createElement(KwlmNavActionGroup,{key:t,group:e})}),s=Math.floor(5*Math.random())+1,r=KWLOGMANAGER.plugin_base_url+"assets/images/buymeacoffee"+s+".png",l="";return"undefined"!=typeof window.KWREACT&&(l="x"),React.createElement("aside",{className:"kwlm-page--sidebar"},React.createElement("div",{className:"sidebar-container"},React.createElement("div",{className:"kwlm-logo"}),n,a,React.createElement("div",{className:"menu-links"},React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.props.app.openSettings},React.createElement("i",{className:"fa fa-cog"})," ",KWLOGMANAGER.lang_settings.settings.name)),React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.props.app.openHelp()},React.createElement("i",{className:"fa fa-question-circle"})," ",KWLOGMANAGER.lang_settings.help.name)),React.createElement("li",null,React.createElement("small",null,"React Version: ",React.version," / ",l)))),React.createElement("div",{className:"last-modified"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.lastModified),React.createElement(KwlmTimeStamp,{date:""!==e?new Date(e):""})),React.createElement("div",{className:"log-filesize"},React.createElement("h4",null,KWLOGMANAGER.lang_settings.fileSize),React.createElement(KwlmPrettyFilesize,{filesize:this.props.app.getFilesize()})),React.createElement("div",{className:"donate"},React.createElement("a",{href:"https://buymeacoff.ee/kolorweb",target:"_blank",rel:"nofollow noopener"},React.createElement("img",{src:r,alt:"Buy me a coffee!"})))))}return React.createElement("aside",{className:"kwlm-page--sidebar"})}}])}(React.Component);KwlmSidebar.defaultProps={app:{ready:!1}},KwlmSidebar.propTypes={app:PropTypes.object.isRequired};var KwlmTabs=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a.switchTab=a.switchTab.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{tab:1}}},{key:"_getDefaultProps",value:function(){return{selected:1,tabs:[]}}},{key:"componentDidMount",value:function(){this.setState({tab:this.props.selected})}},{key:"switchTab",value:function(e){e.preventDefault(),this.setState({tab:e.currentTarget.getAttribute("data-tab-index")})}},{key:"render",value:function(){var e=this.props.tabs.map(function(e,t){var a=t+1,n=this.state.tab==a?" selected":"";return React.createElement("li",{className:"tab "+e.replace(/[^\w]+/gi,"-").toLowerCase()+n,onClick:this.switchTab,"data-tab-index":a,key:t},e)}.bind(this)),t=React.Children.map(this.props.children,function(e,t){var a=t+1,n=this.state.tab==a?" selected":"";return React.createElement("div",{className:"tab-content"+n},e)}.bind(this));return React.createElement("div",{className:"kwlm-module--tabs"},React.createElement("ul",{className:"tabs"},e),t)}}])}(React.Component);KwlmTabs.defaultProps={selected:1,tabs:[]},KwlmTabs.propTypes={selected:PropTypes.number,tabs:PropTypes.array.isRequired};var KwlmTimeStamp=function(e){function t(e){var a;return _classCallCheck(this,t),a=_callSuper(this,t,[e]),a.props=e,a._getInitialState=a._getInitialState.bind(a),a.state=a._getInitialState(),a}return _inherits(t,e),_createClass(t,[{key:"_getInitialState",value:function(){return{localeSupported:null}}},{key:"_getDefaultProps",value:function(){return{date:""}}},{key:"componentDidMount",value:function(){try{if(null===this.state.localeSupported){(new Date).toLocaleDateString("en-US"),this.setState({localeSupported:!0})}}catch(e){this.setState({localeSupported:!1})}}},{key:"render",value:function(){if(this.props.date instanceof Date){var e,t,a,n=new Date;if(this.state.localeSupported){var s={weekday:"short",year:"numeric",month:"long",day:"numeric"},r=window.navigator.userLanguage||window.navigator.language;e=n.toLocaleDateString(r,s),t=this.props.date.toLocaleDateString(r,s),s={timeStyle:"full"},a=this.props.date.toLocaleTimeString(r,s)}else e=n.toDateString().replace(/([\w]+) ([\w]+) ([\d]+) ([\d]+)/,"$2 $3 $4"),t=this.props.date.toDateString().replace(/([\w]+) ([\w]+) ([\d]+) ([\d]+)/,"$2 $3 $4"),a=this.props.date.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2})[ \w+-]+\(([\w]+)\)/,"$1 $2");return e===t&&(t=KWLOGMANAGER.lang_settings.currentDate),React.createElement("div",{className:"kwlm-module--timestamp"},React.createElement("div",{className:"date"},t),React.createElement("div",{className:"time"},a))}return React.createElement("div",{className:"kwlm-module--timestamp"})}}])}(React.Component);KwlmTimeStamp.defaultProps={date:""},KwlmTimeStamp.propTypes={date:PropTypes.object.isRequired},kwlm.remote=function(){var e=function(e,t,a,n,s){a="object"===_typeof(a)?a:{},a.action=e,a.nonce=KWLOGMANAGER.kwlm_nonce,"update-global-settings"===e&&0===Object.keys(a.settings.custom_errors).length&&(a.settings.custom_errors=""),reqwest({url:KWLOGMANAGER.api,method:t,data:a}).then(n).fail(s)};return{getAllEntries:function(t,a,n){return e("get-log","POST",t,a,n)},getLatestEntries:function(t,a,n){return e("get-entries-if-modified","POST",t,a,n)},clearEntries:function(t,a){return e("clear-log","POST",{},t,a)},toggleDebugging:function(t,a,n){return e("toggle-debugging","POST",{status:t},a,n)},getGlobalSettings:function(t,a){return e("get-global-settings","POST",{},t,a)},updateGlobalSetting:function(t,a,n,s){var r={};return r[t]=a,e("update-global-settings","POST",{user_id:KWLOGMANAGER.user_id,settings:r},n,s)},updateGlobalSettings:function(t,a,n){if("object"===_typeof(t))return e("update-global-settings","POST",{user_id:KWLOGMANAGER.user_id,settings:t},a,n)},updateUserSetting:function(t,a,n,s){var r={};return r[t]=a,e("update-user-settings","POST",{user_id:KWLOGMANAGER.user_id,settings:r},n,s)},updateUserSettings:function(t,a,n){if("object"===_typeof(t))return e("update-user-settings","POST",{user_id:KWLOGMANAGER.user_id,settings:t},a,n)}}}(),kwlm.notify=function(){var e={timeout:4e3,waitForMove:!0,baseCls:"humane-flatty"};return{alert:function(t){e.addnCls="humane-kwlm-alert",humane.remove(function(){humane.log(t,e)})},error:function(t){e.addnCls="humane-kwlm-error",humane.remove(function(){humane.log(t,e)})},success:function(t){e.addnCls="humane-kwlm-success",humane.remove(function(){humane.log(t,e)})}}}();var kwlmDDStatus=1==KWLOGMANAGER.debug_enabled||1==KWLOGMANAGER.debug_enabled;if("tools_page_kw-log-manager"===KWLOGMANAGER.current_page){var _wplwApp=React.createElement(KwlmApp,{user:KWLOGMANAGER.user_id,settings:KWLOGMANAGER.settings,debugging:kwlmDDStatus,pluginUrl:KWLOGMANAGER.plugin_url});ReactDOM.render(_wplwApp,document.getElementById("kwlm-viewer-container")),KWLOGMANAGER.settings&&KWLOGMANAGER.settings.fold_sidebar&&1==KWLOGMANAGER.settings.fold_sidebar&&(document.getElementsByTagName("body")[0].className+=" folded");var fixedSidebar=!1;window.onscroll=function(){var e=document.getElementsByTagName("body")[0];e.scrollTop>=130?fixedSidebar===!1&&(e.className+=" fixed-sidebar",fixedSidebar=!0):fixedSidebar===!0&&(e.className=e.className.replace(" fixed-sidebar"," "),fixedSidebar=!1)}}else if("dashboard"===KWLOGMANAGER.current_page){var _wplwDashboardWidget=React.createElement(KwlmDashboardWidget,{debugging:kwlmDDStatus,pluginUrl:KWLOGMANAGER.plugin_url,settings:KWLOGMANAGER.settings});ReactDOM.render(_wplwDashboardWidget,document.getElementById("kwlm-dashboard-widget-container"))}var _kwlmAdminBar=React.createElement(KwlmAdminBarNav,{debugging:kwlmDDStatus,pluginUrl:KWLOGMANAGER.plugin_url,view:KWLOGMANAGER.settings.view});ReactDOM.render(_kwlmAdminBar,document.getElementById("wp-admin-bar-kwlm-menu"));